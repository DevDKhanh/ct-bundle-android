System.register("chunks:///_virtual/Adapter.ts",["cc"],(function(e){var t,i,s,o,n,h,c;return{setters:[function(e){t=e.cclegacy,i=e.Component,s=e.Node,o=e.view,n=e.screen,h=e.ResolutionPolicy,c=e._decorator}],execute:function(){var d;t._RF.push({},"1ba5blzlsNDs7DJm6mP7Qwg","Adapter",void 0);const{ccclass:r}=c;e("Adapter",r("Adapter")(d=class extends i{onLoad(){this.node.on(s.EventType.SIZE_CHANGED,this.onResize,this),this.onResize()}onDestroy(){this.node.off(s.EventType.SIZE_CHANGED,this.onResize,this)}onResize(){let e=o.getDesignResolutionSize(),t=n.windowSize;t.height/t.width<e.height/e.width?o.setDesignResolutionSize(e.height*t.width/t.height,e.height,h.FIXED_HEIGHT):o.setDesignResolutionSize(e.width,e.width*t.height/t.width,h.FIXED_WIDTH)}})||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"4613b2zY/dMSaGPBGo6eti3","ArrayUtil",void 0);t("ArrayUtil",class{static noRepeated(t){const r=[t[0]];for(let e=1;e<t.length;e++){let a=!1;for(let n=0;n<r.length;n++)if(t[e]==r[n]){a=!0;break}a||r.push(t[e])}return r}static copy2DArray(t){let r=[];for(let e=0;e<t.length;e++)r.push(t[e].concat());return r}static fisherYatesShuffle(t){let r=t.length;for(;r;){let e=Math.floor(Math.random()*r--),a=t[r];t[r]=t[e],t[e]=a}return t}static confound(t){return t.slice().sort((()=>Math.random()-.5))}static flattening(t){for(;t.some((t=>Array.isArray(t)));)t=[].concat.apply([],t);return t}static removeItem(t,r){const e=t.concat();for(let a=0;a<e.length;a++){if(r==e[a]){t.splice(a,1);break}}}static combineArrays(t,r){return[...t,...r]}static getRandomValueInArray(t){return t[Math.floor(Math.random()*t.length)]}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncHelper.ts",["cc","./kk.ts","./CocosHelper.ts"],(function(e){var n,t,r,s,l,o,u;return{setters:[function(e){n=e.Canvas,t=e.tween,r=e.assetManager,s=e.log,l=e.cclegacy},function(e){o=e.default},function(e){u=e.default}],execute:function(){l._RF.push({},"73bdcxxabFLx7t0M0O310uD","AsyncHelper",void 0);class c{static sleepAsync(e,t){return new Promise(((r,s)=>{t||(t=u.getRoot().getComponent(n)),t.scheduleOnce((()=>{r(null)}),e)}))}static tweenAsync(e,n){return new Promise((r=>{t(e).then(n).call(r).start()}))}static loadBundleAsync(e){const n=c._bundlePromises.get(e);if(n)return n;const t=new Promise(((n,t)=>{var l,u;const i=r.getBundle(e);if(i)return s("bundle already loaded",e),void n(i);const a=null==o||null==(l=o.config)||null==(l=l.service)?void 0:l.useRemoteBundles,d=null==o||null==(u=o.config)||null==(u=u.service)?void 0:u.bundleServer,m=a&&d&&!("KKLoadBundle"===e)?`${d.replace(/\/$/,"")}/${e}`:e;r.loadBundle(m,((r,l)=>{s("load bundle",m),r?(c._bundlePromises.delete(e),t(r)):(c._bundlePromises.delete(e),n(l))}))}));return c._bundlePromises.set(e,t),t}static preloadAsync(e,n,t,r){return new Promise(((s,l)=>{e.preload(n,t,((e,n,t)=>{r&&r(e,n)}),((e,n)=>{e?l(e):s()}))}))}static preloadDirAsync(e,n,t){return new Promise(((r,s)=>{e.preloadDir(n,((e,n,r)=>{t&&t(e,n)}),((e,n)=>{e?s(e):r()}))}))}static loadDirAsync(e,n,t){return new Promise(((r,s)=>{e.loadDir(n,((e,n,r)=>{t&&t(e,n)}),((e,n)=>{e?s(e):r()}))}))}static loadAsync(e,n,t,r){return new Promise(((s,l)=>{e.load(n,t,((e,n,t)=>{r&&r(e,n)}),((e,n)=>{e?l(e):s(n)}))}))}get(e,n,t="resources"){return r.getBundle(t).get(e,n)}static execPerFrameAsync(e,t,r){return r||(r=u.getRoot().getComponent(n)),new Promise(((n,s)=>{let l=()=>{let s=Date.now();for(let o=e.next();;o=e.next()){if(!o||o.done)return void n();if(Date.now()-s>t)return void r.scheduleOnce((()=>{l()}))}};l()}))}}e("default",c),c._bundlePromises=new Map,l._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncQueue.ts",["cc"],(function(s){var e,i,n;return{setters:[function(s){e=s.cclegacy,i=s.warn,n=s.log}],execute:function(){e._RF.push({},"72526k6WZVCG6dZQ+c1jPTh","AsyncQueue",void 0);class t{constructor(){this._runningAsyncTask=null,this._queues=[],this._isProcessingTaskUUID=0,this._enable=!0,this.complete=null}get queues(){return this._queues}get enable(){return this._enable}set enable(s){this._enable!==s&&(this._enable=s,s&&this.size>0&&this.play())}push(s,e=null){let i=t._$uuid_count++;return this._queues.push({uuid:i,callbacks:[s],params:e}),i}pushMulti(s,...e){let i=t._$uuid_count++;return this._queues.push({uuid:i,callbacks:e,params:s}),i}remove(s){var e;if((null==(e=this._runningAsyncTask)?void 0:e.uuid)!==s){for(let e=0;e<this._queues.length;e++)if(this._queues[e].uuid===s){this._queues.splice(e,1);break}}else i("正在执行的任务不可以移除")}get size(){return this._queues.length}get isProcessing(){return this._isProcessingTaskUUID>0}get isStop(){return!(this._queues.length>0)&&!this.isProcessing}get runningParams(){return this._runningAsyncTask?this._runningAsyncTask.params:null}clear(){this._queues=[],this._isProcessingTaskUUID=0,this._runningAsyncTask=null}step(){this.isProcessing&&this.next(this._isProcessingTaskUUID)}play(s=null){if(this.isProcessing)return;if(!this._enable)return;let e=this._queues.shift();if(e){this._runningAsyncTask=e;let i=e.uuid;this._isProcessingTaskUUID=i;let n=e.callbacks;if(1==n.length){let t=(s=null)=>{this.next(i,s)};n[0](t,e.params,s)}else{let t=n.length,u=[],l=(s=null)=>{--t,u.push(s||null),0===t&&this.next(i,u)},r=t;for(let i=0;i<r;i++)n[i](l,e.params,s)}}else this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.complete&&this.complete(s)}yieldTime(s,e=null){this.push((function(i,n,t){let u=setTimeout((()=>{clearTimeout(u),e&&e(),i(t)}),s)}),{des:"AsyncQueue.yieldTime"})}next(s,e=null){this._isProcessingTaskUUID===s?(this._isProcessingTaskUUID=0,this._runningAsyncTask=null,this.play(e)):this._runningAsyncTask&&n(this._runningAsyncTask)}static excuteTimes(s,e=null){let i=s;return()=>{--i,0===i&&e&&e()}}}s("AsyncQueue",t),t._$uuid_count=1,e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseSocket.ts",["cc"],(function(t){var e,n,s,i;return{setters:[function(t){e=t.cclegacy,n=t.warn,s=t.log,i=t.error}],execute:function(){e._RF.push({},"ac152Scz+pBFJutqPd0SBev","BaseSocket",void 0);const c=t("SocketErrCode",{NoThisSocket:100,SendFailure:101});t("BaseSocket",class{constructor(){this._ws=null,this._connectOptions=null,this._heartTimer=null,this._curHeartOutCnt=0,this._curAutoReconnect=0,this._reconnectTimer=0,this._req2respCallbacks={},this._server2ClientListeners={},this._connectedCB=null}connectAsync(t,e){null==this._connectOptions&&(this._connectOptions={url:t.url?t.url:`${t.protocol?t.protocol:"ws"}://${t.ip}:${t.port}`,binaryType:t.binaryType?t.binaryType:"arraybuffer",autoReconnect:t.autoReconnect?t.autoReconnect:0,reconnectTime:t.reconnectTime?t.reconnectTime:6,heartTime:t.heartTime?t.heartTime:3,heartOutCount:t.heartOutCount?t.heartOutCount:3,getHeartbeat:t.getHeartbeat?t.getHeartbeat:()=>"",parseNetData:t.parseNetData?t.parseNetData:t=>({cmd:0,content:t}),tips:t.tips?t.tips:{},manualReconnect:t.manualReconnect?t.manualReconnect:()=>n("manualReconnect undefined")},this._connectedCB=e||(()=>{}));let i=!0;return new Promise(((t,e)=>{var n;if(this._ws){if(this._ws.readyState===WebSocket.CONNECTING)return s("ws connecting, wait for a moment..."),void t();if(this._ws.readyState===WebSocket.OPEN)return s("ws has connected!"),void t()}s("net is connecting!"),null==(n=this._connectOptions.tips)||n.showConnecting(!0),this._ws=new WebSocket(this._connectOptions.url),this._ws.binaryType=this._connectOptions.binaryType,this._ws.onopen=e=>{var n;i=!1,null==(n=this._connectOptions.tips)||n.showConnecting(!1),t(),this._connectedCB(),this._onOpen(e)},this._ws.onmessage=t=>{this._onMessage(t.data)},this._ws.onerror=t=>{var n;i&&(i=!1,null==(n=this._connectOptions.tips)||n.showConnecting(!1),e(t));this._onError(t)},this._ws.onclose=t=>{var n;i&&(i=!1,null==(n=this._connectOptions.tips)||n.showConnecting(!1),e(t));this._onClose(t)}}))}reqAsync(t,e,n=!1){var s;return n&&(null==(s=this._connectOptions.tips)||s.showRequesting(!0)),new Promise(((s,i)=>{var o;if(!this._send(e))return n&&(null==(o=this._connectOptions.tips)||o.showRequesting(!1)),void i(c.SendFailure);this._req2respCallbacks[t]||(this._req2respCallbacks[t]=[]),this._req2respCallbacks[t].push((t=>{var e;n&&(null==(e=this._connectOptions.tips)||e.showRequesting(!1)),s(t)}))}))}close(t=!1){if(this._stopHeartTimer(),this._stopReconnectTimer(),this._ws){var e;if(this._ws.readyState==WebSocket.CONNECTING||this._ws.readyState==WebSocket.CLOSING)null==(e=this._connectOptions.tips)||e.showConnecting(!1);this._clearReqList(),t&&(this._server2ClientListeners={}),this._ws.onopen=t=>{},this._ws.onmessage=t=>{},this._ws.onerror=t=>{},this._ws.onclose=t=>{},this._ws.readyState!=WebSocket.CLOSED&&this._ws.close(),s("ws closed manually")}}on(t,e,n){this._server2ClientListeners[t]||(this._server2ClientListeners[t]=[]),-1===this._server2ClientListeners[t].findIndex((t=>t.target===n&&t.callback===e))&&this._server2ClientListeners[t].push({target:n,callback:e})}off(t,e,n){let s=this._server2ClientListeners[t];if(s){let t=s.findIndex((t=>t.target===n&&t.callback===e));-1!==t&&s.splice(t,1)}}_onOpen(t){s("ws connected!"),this._stopReconnectTimer(),this._startHeartTimer()}_onMessage(t){this._curHeartOutCnt=0,t&&this._onRecv(t)}_onError(t){i("ws error!",t)}_onClose(t){s("ws closed!",t.code,t.reason),this._stopHeartTimer(),this._stopReconnectTimer(),this._clearReqList(),this._doReconnect()}_send(t){return this._ws&&this._ws.readyState===WebSocket.OPEN?(this._ws.send(t),!0):(n("send exceptionally"),!1)}_clearReqList(){for(const t in this._req2respCallbacks){this._req2respCallbacks[t].forEach(((t,e)=>{t(null)}))}this._req2respCallbacks={}}_onRecv(t){let e=this._connectOptions.parseNetData(t);if(!e)return void n("ParseNetData Error! ",t);let s=this._req2respCallbacks[e.cmd];if(s&&s.length>0){s.shift()(e.content)}let i=this._server2ClientListeners[e.cmd];if(i)for(const t of i)t.callback.call(t.target,e.content)}_doReconnect(){let t=this._connectOptions.autoReconnect;var e,n;0==t||t>0&&this._curAutoReconnect>=t?null==(e=this._connectOptions)||e.manualReconnect():(t>0&&++this._curAutoReconnect,s("net is reconnecting!"),null==(n=this._connectOptions.tips)||n.showReconnecting(!0),this._reconnectTimer=setTimeout((()=>{var t;null==(t=this._connectOptions.tips)||t.showReconnecting(!1),this.connectAsync(this._connectOptions,this._connectedCB)}),1e3*this._connectOptions.reconnectTime))}_startHeartTimer(){this._curHeartOutCnt=0,this._stopHeartTimer(),this._heartTimer=setInterval((()=>{if(++this._curHeartOutCnt,this._curHeartOutCnt>this._connectOptions.heartOutCount)return s("ws disconnected! -- heart out"),this.close(),void this._doReconnect();this._send(this._connectOptions.getHeartbeat())}),1e3*this._connectOptions.heartTime)}_stopHeartTimer(){this._heartTimer&&clearInterval(this._heartTimer),this._heartTimer=null}_stopReconnectTimer(){this._reconnectTimer&&clearTimeout(this._reconnectTimer),this._reconnectTimer=null}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/BtnAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./kk.ts"],(function(t){var n,e,i,o,r,c,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){i=t.cclegacy,o=t.Button,r=t._decorator,c=t.Component},function(t){l=t.default}],execute:function(){var a,s,h,u,p,d,m,b,k,f,g,y,C;i._RF.push({},"a4e8adJOiNKGrOO/mFRE1Fl","BtnAdapter",void 0);const{ccclass:v,property:S,menu:P,requireComponent:A,disallowMultiple:B}=r;t("BtnAdapter",(a=v("btnAdapter"),s=P("Custom Components/BtnAdapter"),h=A(o),u=S({tooltip:"Có phát âm thanh khi nhấn hay không"}),p=S({tooltip:"Tên của hiệu ứng âm thanh khi nhấn"}),d=S({tooltip:"Có ngăn chặn nhấn liên tiếp nhanh hay không"}),m=S({tooltip:"Khoảng thời gian (tính bằng giây) cần thiết trước khi cho phép nhấn lại. Chỉ có hiệu lực khi isPreventSecondClick được bật."}),a(b=s(b=h(b=B((f=n((k=class extends c{constructor(...t){super(...t),e(this,"isPlaySound",f,this),e(this,"clickSoundName",g,this),e(this,"isPreventSecondClick",y,this),e(this,"preventTime",C,this)}start(){const t=this.node.getComponent(o);this.node.on("click",(()=>{this.isPreventSecondClick&&(t.interactable=!1,this.scheduleOnce((()=>{t.node&&(t.interactable=!0)}),this.preventTime)),this.isPlaySound&&l.soundMgr.playEffectAsync(this.clickSoundName,"Audios",!1)}))}}).prototype,"isPlaySound",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=n(k.prototype,"clickSoundName",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"click"}}),y=n(k.prototype,"isPreventSecondClick",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=n(k.prototype,"preventTime",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),b=k))||b)||b)||b)||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/CameraUtil.ts",["cc"],(function(e){var t,r,i;return{setters:[function(e){t=e.cclegacy,r=e.Vec3,i=e.view}],execute:function(){t._RF.push({},"95c77QQpp1EjKj8UBFCCdKu","CameraUtil",void 0);e("CameraUtil",class{static isInView(e,t){const c=e.node.getWorldPosition(),n=e.worldToScreen(t),o=r.normalize(new r,t.subtract(c)),a=e.node.forward,s=r.dot(a,o),u=i.getViewportRect();return s>0&&n.x<=u.width&&n.x>=0&&n.y<=u.height&&n.y>=0}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/CocosHelper.ts",["cc","./kk.ts"],(function(e){var t,i,n,o,r,a,d,l,g,c,p,s,f;return{setters:[function(e){t=e.director,i=e.Sprite,n=e.Color,o=e.Label,r=e.Widget,a=e.Layout,d=e.UITransform,l=e.builtinResMgr,g=e.ImageAsset,c=e.Texture2D,p=e.SpriteFrame,s=e.cclegacy},function(e){f=e.default}],execute:function(){e({getRankByElo:function(e){return f.config.service.configLevel.find((({type:t})=>{let i;if(i=/^elo<(\d+)$/.exec(t)){const t=+i[1];return e<t}if(i=/^elo>=(\d+)$/.exec(t)){const t=+i[1];return e>=t}if(i=/^(\d+)>elo>=(\d+)$/.exec(t)){const t=+i[1],n=+i[2];return e>=n&&e<t}return!1}))||null},secondsToMinute:function(e){const t=Math.floor(e/60),i=e%60;return`${t}:${i<10?"0":""}${i}`}}),s._RF.push({},"1d4c6haefZJ0JyHbpV5WuLI","CocosHelper",void 0);class m{static getRoot(){return t.getScene().getChildByName("Canvas")}static addSprite(e,t){if(!e)return;"number"!=typeof t.type&&(t.type=i.Type.SIMPLE),"number"!=typeof t.sizeMode&&(t.sizeMode=i.SizeMode.TRIMMED),"boolean"!=typeof t.trim&&(t.trim=!0);let n=e.addComponent(i);return n.spriteFrame=t.spriteFrame,n.type=t.type,n.sizeMode=t.sizeMode,n.trim=t.trim,n}static addLabel(e,t){if(!e)return;t.fontSize||(t.fontSize=40),t.color||(t.color=n.WHITE),t.lineHeight||(t.lineHeight=t.fontSize),"number"!=typeof t.horizontalAlign&&(t.horizontalAlign=o.HorizontalAlign.CENTER),"number"!=typeof t.verticalAlign&&(t.verticalAlign=o.VerticalAlign.CENTER),"number"!=typeof t.overflow&&(t.overflow=o.Overflow.NONE),"number"!=typeof t.cacheMode&&(t.cacheMode=o.CacheMode.NONE);let i=e.addComponent(o);return i.string=t.string,i.fontSize=t.fontSize,i.lineHeight=t.lineHeight,i.horizontalAlign=t.horizontalAlign,i.verticalAlign=t.verticalAlign,i.overflow=t.overflow,i.isBold=!!t.enableBold,i.isItalic=!!t.enableItalic,i.isUnderline=!!t.enableUnderline,i.enableWrapText=!!t.enableWrapText,i.cacheMode=t.cacheMode,i.color=t.color,i}static addWidget(e,t){if(!e)return;let i=e.addComponent(r);return"number"==typeof t.left&&(i.isAlignLeft=!0,i.left=t.left),"number"==typeof t.right&&(i.isAlignRight=!0,i.right=t.right),"number"==typeof t.top&&(i.isAlignTop=!0,i.top=t.top),"number"==typeof t.bottom&&(i.isAlignBottom=!0,i.bottom=t.bottom),i}static addLayout(e,t){if(!e)return;"number"!=typeof t.resizeMode&&(t.resizeMode=a.ResizeMode.CONTAINER);let i=e.getComponent(d);i||e.addComponent(d),t.width&&(i.width=t.width),t.height&&(i.height=t.height);let n=e.addComponent(a);return n.type=t.type,n.resizeMode=t.resizeMode,n.affectedByScale=!!t.affectedByScale,n.type==a.Type.HORIZONTAL?(n.horizontalDirection="number"==typeof t.horizontalDirection?t.horizontalDirection:a.HorizontalDirection.LEFT_TO_RIGHT,n.spacingX=t.spacingX?t.spacingX:0,n.paddingLeft=t.paddingLeft?t.paddingLeft:0,n.paddingRight=t.paddingRight?t.paddingRight:0):n.type==a.Type.VERTICAL?(n.verticalDirection="number"==typeof t.verticalDirection?t.verticalDirection:a.VerticalDirection.TOP_TO_BOTTOM,n.spacingY=t.spacingY?t.spacingY:0,n.paddingTop=t.paddingTop?t.paddingTop:0,n.paddingBottom=t.paddingBottom?t.paddingBottom:0):n.type==a.Type.GRID&&(n.startAxis="number"==typeof t.startAxis?t.startAxis:a.AxisDirection.HORIZONTAL,n.horizontalDirection="number"==typeof t.horizontalDirection?t.horizontalDirection:a.HorizontalDirection.LEFT_TO_RIGHT,n.verticalDirection="number"==typeof t.verticalDirection?t.verticalDirection:a.VerticalDirection.TOP_TO_BOTTOM,n.spacingX=t.spacingX?t.spacingX:0,n.paddingLeft=t.paddingLeft?t.paddingLeft:0,n.paddingRight=t.paddingRight?t.paddingRight:0,n.spacingY=t.spacingY?t.spacingY:0,n.paddingTop=t.paddingTop?t.paddingTop:0,n.paddingBottom=t.paddingBottom?t.paddingBottom:0),n}static grayNode(e,t=!0){e.getComponent(i)?e.getComponent(i).grayscale=t:e.getComponent(o)&&e.getComponent(o).setSharedMaterial(l.get(t?"ui-sprite-gray-material":"ui-sprite-material"),0);for(let i=e.children.length-1;i>=0;--i)m.grayNode(e.children[i],t)}static genPureColorSpriteFrame(e=n.BLACK){let t=new g({_data:new Uint8Array([e.r,e.g,e.b,e.a]),width:1,height:1,format:c.PixelFormat.RGBA8888,_compressed:!1}),i=new c;i.image=t;let o=new p;return o.texture=i,o.packable=!1,o}}e("default",m);e("coin",(e=>Math.floor(Number(e)).toLocaleString("en-GB")));const u=e("padStart",((e,t,i)=>e.length>=t?e:new Array(t-e.length+1).join(i)+e));e("dateFormat",((e,t)=>{const i=new Date(e);if(isNaN(i.getTime()))throw new Error("Invalid date");const n={YYYY:i.getFullYear(),MM:u((i.getMonth()+1).toString(),2,"0"),DD:u(i.getDate().toString(),2,"0"),HH:u(i.getHours().toString(),2,"0"),mm:u(i.getMinutes().toString(),2,"0"),ss:u(i.getSeconds().toString(),2,"0")};return t.replace(/YYYY|MM|DD|HH|mm|ss/g,(e=>n[e]))}));s._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc","./DebugHelper.ts"],(function(t){var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.default}],execute:function(){e._RF.push({},"40158SU0ZxOKLMdCmbFF5Lj","Config",void 0);t("Config",class{constructor(){this.service=void 0}});t("ConfigService",class{get httpServer(){return this._data.httpServer}get socketURL(){return this._data.socketURL}get bundleServer(){return this._data.bundleServer}get useRemoteBundles(){return!!this._data.useRemoteBundles}get listName(){return this._data.nameRandom}get configLevel(){return this._data.level}get data(){return this._data}constructor(t){this._data=void 0,this._data=Object.freeze(t.json),r.log("Config loaded",this._data)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/DebugHelper.ts",["cc","./TimeHelper.ts","./CocosHelper.ts"],(function(e){var t,o,n,i,l,a,r,d,s,g,c,C,h,u;return{setters:[function(e){t=e.cclegacy,o=e.log,n=e.warn,i=e.Color,l=e.error,a=e.Node,r=e.color,d=e.UITransform,s=e.Layout,g=e.ScrollView,c=e.Button,C=e.Label},function(e){h=e.default},function(e){u=e.default}],execute:function(){t._RF.push({},"3acbdy/4b9CtoNZOA4v1GTw","DebugHelper",void 0);var p=function(e){return e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e}(p||{});e("default",new class{constructor(){this.Level=p,this.level=p.INFO,this.logContent=null}log(...e){this.level>=p.INFO&&(o(`[${h.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e)))}warn(...e){this.level>=p.WARN&&(n(`[${h.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e),i.YELLOW))}error(...e){this.level>=p.ERROR&&(l(`[${h.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e),i.RED))}switchDebugLogBtn(){let e=u.getRoot().getChildByName("logBtn");e?e.active=!e.active:(this.level=p.INFO,this._initLogPanel())}_initLogPanel(){let e=new a,t=u.getRoot();t.addChild(e),u.addSprite(e,{spriteFrame:u.genPureColorSpriteFrame(r(0,0,0,180))});let o=e.getComponent(d);o.setContentSize(t.getComponent(d).contentSize);let n=new a;n.addComponent(d).anchorY=1,n.parent=e,u.addWidget(n,{top:0}),u.addLayout(n,{type:s.Type.VERTICAL}),this.logContent=n;let l=e.addComponent(g);l.horizontal=!1,l.vertical=!0,l.bounceDuration=.23,l.brake=.75,l.content=n,e.active=!1;let C=new a("logBtn");C.addComponent(d).anchorX=1,C.setPosition(o.width/2,0),u.addLabel(C,{string:"DEBUG",fontSize:30,color:i.YELLOW,enableBold:!0}),t.addChild(C),C.addComponent(c),C.on(c.EventType.CLICK,(()=>{e.active=!e.active}));let h=new a;h.setPosition(.5*o.width-100,.5*-o.height+100),u.addLabel(h,{string:"Clean",fontSize:30,color:i.RED,enableBold:!0}),e.addChild(h),h.addComponent(c),h.on(c.EventType.CLICK,(()=>{n.removeAllChildren()}))}_addLblNode(e,t){let o=new a;u.addLabel(o,{string:e,fontSize:24,color:t,overflow:C.Overflow.RESIZE_HEIGHT}),o.getComponent(d).width=this.logContent.parent.getComponent(d).width-20,o.parent=this.logContent}});t._RF.pop()}}}));

System.register("chunks:///_virtual/DebugManger.ts",["cc","./kk.ts","./TimeHelper.ts","./CocosHelper.ts"],(function(e){var t,o,n,i,l,d,a,r,s,g,c,C,h,u,p;return{setters:[function(e){t=e.log,o=e.warn,n=e.Color,i=e.error,l=e.Node,d=e.color,a=e.UITransform,r=e.Layout,s=e.ScrollView,g=e.Button,c=e.Label,C=e.cclegacy},function(e){h=e.default},function(e){u=e.default},function(e){p=e.default}],execute:function(){C._RF.push({},"92a97FRRcFCp5MaT6sivuVS","DebugManger",void 0);var N=function(e){return e[e.NONE=0]="NONE",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e}(N||{});class v{constructor(){this.level=N.INFO,this.logContent=null}log(...e){this.level>=N.INFO&&(t(`[${u.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e)))}warn(...e){this.level>=N.WARN&&(o(`[${u.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e),n.YELLOW))}error(...e){this.level>=N.ERROR&&(i(`[${u.getCurDetailTime()}]`,...e),this.logContent&&this._addLblNode(JSON.stringify(e),n.RED))}switchDebugLogBtn(){let e=h.godNode.getChildByName("logBtn");e?e.active=!e.active:(this.level=N.INFO,this._initLogPanel())}_initLogPanel(){let e=new l;h.godNode.addChild(e),p.addSprite(e,{spriteFrame:p.genPureColorSpriteFrame(d(0,0,0,180))});let t=e.getComponent(a);t.setContentSize(h.godNode.getComponent(a).contentSize);let o=new l;o.addComponent(a).anchorY=1,o.parent=e,p.addWidget(o,{top:0}),p.addLayout(o,{type:r.Type.VERTICAL}),this.logContent=o;let i=e.addComponent(s);i.horizontal=!1,i.vertical=!0,i.bounceDuration=.23,i.brake=.75,i.content=o,e.active=!1;let c=new l("logBtn");c.addComponent(a).anchorX=1,c.setPosition(t.width/2,0),p.addLabel(c,{string:"DEBUG",fontSize:30,color:n.YELLOW,enableBold:!0}),h.godNode.addChild(c),c.addComponent(g),c.on(g.EventType.CLICK,(()=>{e.active=!e.active}));let C=new l;C.setPosition(.5*t.width-100,.5*-t.height+100),p.addLabel(C,{string:"Clean",fontSize:30,color:n.RED,enableBold:!0}),e.addChild(C),C.addComponent(g),C.on(g.EventType.CLICK,(()=>{o.removeAllChildren()}))}_addLblNode(e,t){let o=new l;p.addLabel(o,{string:e,fontSize:24,color:t,overflow:c.Overflow.RESIZE_HEIGHT}),o.getComponent(a).width=this.logContent.parent.getComponent(a).width-20,o.parent=this.logContent}}e("default",v),v.Level=N,C._RF.pop()}}}));

System.register("chunks:///_virtual/Decorators.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e({doOnceFirst:function(e=1){return(t,c,u)=>{let n=u.value,o=!1;u.value=function(...t){o||(o=!0,n.apply(this,t),setTimeout((()=>{o=!1}),1e3*e))}}},doOnceLast:function(e=.5){return(t,c,u)=>{let n,o=u.value;u.value=function(...t){n&&clearTimeout(n),n=setTimeout((()=>{o.apply(this,t)}),1e3*e)}}}}),t._RF.push({},"a58c0jsoLZH66m2PTQpVHc/","Decorators",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/DeviceUtil.ts",["cc"],(function(t){var r,e;return{setters:[function(t){r=t.cclegacy,e=t.sys}],execute:function(){r._RF.push({},"287a3oHJD1OrKr6dp6idwn9","DeviceUtil",void 0);t("DeviceUtil",class{static getSafeAreaRect(){return e.getSafeAreaRect()}static get platform(){return e.platform}static get os(){return e.os}static get isNative(){return e.isNative}static get isBrowser(){return e.isBrowser}static get isMobile(){return e.isMobile}static get isAndroid(){return e.platform===e.Platform.ANDROID}static get isIPhone(){return e.platform===e.Platform.IOS}static get isMobileBrowser(){return e.platform===e.Platform.MOBILE_BROWSER}static get isDesktopBrowser(){return e.platform===e.Platform.DESKTOP_BROWSER}static get isWeChat(){return e.platform===e.Platform.WECHAT_GAME}static get isByteDance(){return e.platform===e.Platform.BYTEDANCE_MINI_GAME}static get isBaidu(){return e.platform===e.Platform.BAIDU_MINI_GAME}static get isVivo(){return e.platform===e.Platform.VIVO_MINI_GAME}static get isOPPO(){return e.platform===e.Platform.OPPO_MINI_GAME}static get isXiaomi(){return e.platform===e.Platform.XIAOMI_QUICK_GAME}static get isHuawei(){return e.platform===e.Platform.HUAWEI_QUICK_GAME}static get isAlipay(){return e.platform===e.Platform.ALIPAY_MINI_GAME}static get isOpenHarmony(){return e.platform===e.Platform.OPENHARMONY}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/EncryptUtil.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"46d12Bx4JdKnIYHhcvNk6S1","EncryptUtil",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"880304hnV5Pi7rmDyL9jULg","EventManager",void 0);e("default",class{constructor(){this._eventObjMap=new Map}on(e,t,n){this._on(e,t,n,!1)}once(e,t,n){this._on(e,t,n,!0)}_on(e,t,n,a){let l=this,c=l._eventObjMap.get(e);c||(c=[],l._eventObjMap.set(e,c)),-1===c.findIndex((e=>e.target===n&&e.callback===t))&&c.push({target:n,callback:t,once:a})}off(e,t,n){let a=this,l=a._eventObjMap.get(e);if(l)if(t&&n){let e=l.findIndex((e=>e.target===n&&e.callback===t));-1!==e&&l.splice(e,1)}else l=null,a._eventObjMap.delete(e)}offTargetAll(e){this._eventObjMap.forEach(((t,n)=>{if(t)for(let n=t.length-1;n>=0;n--)t[n].target===e&&t.splice(n,1)}))}emit(e,...t){let n=this._eventObjMap.get(e);if(n){let e=null;for(let a=n.length-1;a>=0;a--)e=n[a],e.callback.apply(e.target,t),e.once&&n.splice(a,1)}}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/GameCoTuongData.ts",["cc","./GameData.ts"],(function(t){var s,e;return{setters:[function(t){s=t.cclegacy},function(t){e=t.default}],execute:function(){s._RF.push({},"8e1c83c5UpOD5NdNfH+D3cg","GameCoTuongData",void 0);let i=t("Side",function(t){return t[t.RED=0]="RED",t[t.BLACK=1]="BLACK",t}({})),n=t("RoomStatus",function(t){return t[t.WAITING=0]="WAITING",t[t.COUNTDOWN=1]="COUNTDOWN",t[t.PLAYING=2]="PLAYING",t[t.FINISHED=3]="FINISHED",t}({}));t("default",new class{constructor(){this.isLeaveRoom=!1,this.side=i.RED,this.viewerSide=i.RED,this.id=void 0,this.fen=null,this.countDown=25,this.status=n.WAITING,this.otherPlayer=null,this.cloneOtherPlayer=null,this.players=[],this.owner=null,this.history=[],this.isViewer=!1}setData(t){this.id=t.id,this.players=t.players,this.status=t.status,this.countDown=t.countdown,this.history=null==t?void 0:t.history,this.isLeaveRoom=!1,this.otherPlayer=t.players.find((t=>t.username!=e.info.username)),this.otherPlayer&&(this.cloneOtherPlayer=JSON.parse(JSON.stringify(this.otherPlayer)))}leaveRoom(){this.isLeaveRoom=!0,this.id=null,this.players=null,this.status=n.WAITING,this.countDown=25,this.history=null,this.otherPlayer=null,this.cloneOtherPlayer=null,this.fen=null,this.isViewer=!1}});s._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc","./kk.ts","./CocosHelper.ts"],(function(e){var s,t,i;return{setters:[function(e){s=e.cclegacy},function(e){t=e.default},function(e){i=e.coin}],execute:function(){s._RF.push({},"c7eaevsO9RA0p/DL5eXf7Mk","GameData",void 0);e("default",new class{constructor(){this.id=void 0,this.username=void 0,this.displayName=void 0,this.token=void 0,this.refreshToken=void 0,this.gold=void 0,this.goldFree=void 0,this._elo=void 0,this._elobanqi=void 0,this.changedElo=0,this._isLoggedIn=!1}getElo(e=!1){return e?this._elobanqi:this._elo}setELo(e,s=!1){s?(this.changedElo=e-this._elobanqi,this._elobanqi=e):(this.changedElo=e-this._elo,this._elo=e)}get info(){return{id:this.id,username:this.username,displayName:this.displayName,token:this.token,gold:this.gold,goldFree:this.goldFree,goldString:i(this.gold),goldFreeString:i(this.goldFree)}}login({id:e,username:s,token:i,gold:o,goldFree:l,password:n,refreshToken:h,displayName:d}){this.id=e,this.username=s,this.displayName=d,this.token=i,this.refreshToken=h,this.gold=o||0,this.goldFree=l||0,this._isLoggedIn=!0,t.localMgr.setItem("token",i,!0),t.localMgr.setItem("refreshToken",h,!0),t.localMgr.setItem("username",s,!0),t.localMgr.setItem("password",n,!0)}logout(){this.id=null,this.username=null,this.displayName=null,this.token=null,this.refreshToken=null,this.gold=0,this.goldFree=0,this._isLoggedIn=!1}updateDisplayName(e){this.displayName=e}get isLoggedIn(){return this._isLoggedIn}});s._RF.pop()}}}));

System.register("chunks:///_virtual/HttpManager.ts",["cc","./DebugHelper.ts"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy},function(e){o=e.default}],execute:function(){t._RF.push({},"27e7cz+RAxJ2Lc6W/RVFIDA","HttpManager",void 0);e("default",class{reqAsync(e,t={}){return new Promise(((o,n)=>{this._request({url:e,timeout:t.timeout||8e3,responseType:t.responseType||"json",contentType:t.contentType||"application/x-www-form-urlencoded",method:t.method||(t.body?"POST":"GET"),body:t.body,token:t.token},o,n)}))}_request(e,t,n){let s=new XMLHttpRequest;s.timeout=e.timeout,s.responseType=e.responseType,s.onreadystatechange=function(){var r,u,p,a;4===s.readyState&&((null==(r=s.response)?void 0:r.statusCode)>=200&&(null==(u=s.response)?void 0:u.statusCode)<=400?(o.log({url:e.url,body:e.body,recv:s.response}),t(s.response)):401==(null==(p=s.response)?void 0:p.statusCode)||403==(null==(a=s.response)?void 0:a.statusCode)?t(s.response):n("Please Check Network! "+s.status))},s.ontimeout=()=>{n("Time Out")},s.onabort=()=>{n("Network Abort")},s.onerror=()=>{n("Network Error")},s.open(e.method,e.url,!0),e.token&&s.setRequestHeader("Authorization",`Bearer ${e.token}`);let r=null;if(e.body)if(s.setRequestHeader("Content-Type",e.contentType),"application/x-www-form-urlencoded"==e.contentType){let t=[];for(let o in e.body)t.push("".concat(o,"=",e.body[o]));r=t.join("&")}else r="application/json"==e.contentType?JSON.stringify(e.body):e.body;s.send(r)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/ImageUtil.ts",["cc"],(function(e){var t,n,a;return{setters:[function(e){t=e.cclegacy,n=e.Color,a=e.Texture2D}],execute:function(){t._RF.push({},"ebdf3rRnEdIYpKgGdW8gSmZ","ImageUtil",void 0);e("ImageUtil",class{static getPixelColor(e,t,a){var o;const r=document.createElement("canvas"),i=r.getContext("2d");r.width=e.width,r.height=e.height;const c=null==(o=e.image)?void 0:o.data;i.drawImage(c,0,0,e.width,e.height);const g=i.getImageData(0,0,e.width,e.height),s=(a-1)*e.width*4+4*(t-1),l=g.data.slice(s,s+4),m=new n(l[0],l[1],l[2],l[3]);return c.remove(),r.remove(),m}static imageToBase64(e,t){return new Promise((n=>{var a;let o=null==(a=/\.png|\.jpg|\.jpeg/.exec(e))?void 0:a[0];if([".png",".jpg",".jpeg"].includes(o)){const a=document.createElement("canvas"),r=a.getContext("2d"),i=new Image;i.src=e,i.onload=()=>{a.height=i.height,a.width=i.width,r.drawImage(i,0,0),o=".jpg"===o?"jpeg":o.replace(".","");const e=a.toDataURL(`image/${o}`);t&&t(e),n(e),i.remove(),a.remove()}}else console.warn("Not a jpg/jpeg or png resource!"),t&&t(""),n("")}))}static base64ToTexture(e){const t=document.createElement("img");t.src=e;const n=new a;return n.initWithElement(t),t.remove(),n}static base64ToBlob(e){const t=e.split(","),n=/image\/\w+|;/.exec(t[0])[0],a=window.atob(t[1]),o=new ArrayBuffer(a.length),r=new Uint8Array(o);for(let e=0;e<a.length;e++)r[e]=255&a.charCodeAt(e);return new Blob([r],{type:n})}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/kk.ts",["cc","./UIManager.ts","./LocalManager.ts","./SoundManager.ts","./EventManager.ts","./DebugManger.ts","./HttpManager.ts","./SocketManager.ts","./LocalizationManager.ts","./Config.ts","./SkinManager.ts"],(function(n){var t,e,a,o,u,g,i,c,f,r,s,d;return{setters:[function(n){t=n.cclegacy,e=n.find},function(n){a=n.default},function(n){o=n.default},function(n){u=n.default},function(n){g=n.default},function(n){i=n.default},function(n){c=n.default},function(n){f=n.default},function(n){r=n.LocalizationManager},function(n){s=n.Config},function(n){d=n.SkinGameManager}],execute:function(){t._RF.push({},"d1b197geZhNFbP/VTdLfvan","kk",void 0);const M=n("default",{uiMgr:new a,localMgr:new o,soundMgr:new u,eventMgr:new g,debugMgr:new i,httpMgr:new c,socketMgr:new f,godNode:null,lang:new r,config:new s,skinsMgr:new d,init(){M.godNode=e("Canvas")}});t._RF.pop()}}}));

System.register("chunks:///_virtual/KKGameUIConf.ts",["cc","./UIConfig.ts"],(function(e){var o,a;return{setters:[function(e){o=e.cclegacy},function(e){a=e.UICacheMode}],execute:function(){o._RF.push({},"8b633e6LxtCgol19ZuJSjzq","KKGameUIConf",void 0);const n=e("KKBundleConf",{Load:"KKLoadBundle",Common:"KKCommonBundle",CoTuong:"KKCoTuongBundle",Home:"KKHomeBundle",Audios:"Audios",Auth:"KKAuthBundle",Banqi:"KKBanqiBundle",PracticeWithBot:"KKPracticeWithBotBundle",CoThe:"KKCoTheBundle"});e("KKLayerConf",{Load:{bundle:n.Load,name:"KKLoadLayer"},CoTuong:{bundle:n.CoTuong,name:"KKCoTuongLayer",cacheMode:a.Cache},Home:{bundle:n.Home,name:"KKHomeLayer",cacheMode:a.Stay},Auth:{bundle:n.Auth,name:"KKAuthLayer",cacheMode:a.Stay},Banqi:{bundle:n.Banqi,name:"KKBanqiLayer",cacheMode:a.Cache},PracticeWithBot:{bundle:n.PracticeWithBot,name:"KKPracticeWithBotLayer",cacheMode:a.Cache},CoThe:{bundle:n.CoThe,name:"KKCoTheLayer",cacheMode:a.Cache}}),e("KKCommonWidgetConf",{Toast:{bundle:n.Common,name:"KKToastWidget",cacheMode:a.Cache},Loading:{bundle:n.Common,name:"KKLoadingWidget",cacheMode:a.Cache},CountDownCircle:{bundle:n.Common,name:"KKCountDownCircleWidget"},StatusPlayer:{bundle:n.Common,name:"KKStatusPlayerWidget",cacheMode:a.Cache},TagRank:{bundle:n.Common,name:"KKTagRankWidget",cacheMode:a.Cache}}),e("KKCoTuongPanelConf",{CoTuong:{bundle:n.CoTuong,name:"KKCoTuongPanel",cacheMode:a.Cache},BanCo:{bundle:n.CoTuong,name:"KKBanCoPanel",cacheMode:a.Cache}}),e("KKCoTuongWidgetlConf",{KKPieceWidget:{bundle:n.CoTuong,name:"KKPieceWidget",cacheMode:a.Cache}}),e("KKHomePanelConf",{Home:{bundle:n.Home,name:"KKHomePanel",cacheMode:a.Cache}}),e("KKHomeWidgetConf",{Avatar:{bundle:n.Home,name:"KKAvatarWidget",cacheMode:a.Cache},ElTopClass:{bundle:n.Home,name:"KKElTopClassWidget",cacheMode:a.Cache},ItemFriend:{bundle:n.Home,name:"KKItemFriendWidget",cacheMode:a.Cache}}),e("KKCoTuongPopupConf",{Menu:{bundle:n.CoTuong,name:"KKMenuPopup",cacheMode:a.Cache},EndGame:{bundle:n.CoTuong,name:"KKEndGamePopup",cacheMode:a.Cache},CauHoa:{bundle:n.CoTuong,name:"KKCauHoaPopup",cacheMode:a.Cache}}),e("KKHomePopupConf",{OptionsMatch:{bundle:n.Home,name:"KKOptionsMatchPopup",cacheMode:a.Cache},Help:{bundle:n.Home,name:"KKHelpPopup",cacheMode:a.Cache},Profile:{bundle:n.Home,name:"KKProfilePopup",cacheMode:a.Cache},FogotPass:{bundle:n.Home,name:"KKFogotPassPopup",cacheMode:a.Cache},InfoAccount:{bundle:n.Home,name:"KKInfoAccountPopup",cacheMode:a.Cache},SettingPractice:{bundle:n.Home,name:"KKSettingPracticePopup",cacheMode:a.Cache},Email:{bundle:n.Home,name:"KKEmailPopup",cacheMode:a.Cache},Setting:{bundle:n.Home,name:"KKSettingPopup",cacheMode:a.Cache},TopClass:{bundle:n.Home,name:"KKTopClassPopup",cacheMode:a.Cache},Friends:{bundle:n.Home,name:"KKFriendsPopup",cacheMode:a.Cache},ListMatches:{bundle:n.Home,name:"KKListMatchesPopup",cacheMode:a.Cache},CreateDisplayName:{bundle:n.Home,name:"KKCreateDisplayNamePopup",cacheMode:a.Cache}}),e("KKCommonPopupConf",{LuckyWheel:{bundle:n.Common,name:"KKLuckyWheelPopup",cacheMode:a.Cache},DialogPopup:{bundle:n.Common,name:"DialogPopup",cacheMode:a.Cache}}),e("KKPracticeWithBotPanelConf",{GameManager:{bundle:n.PracticeWithBot,name:"KKGameManagerPanel",cacheMode:a.Cache}}),e("KKPracticeWithBotPopupConf",{Menu:{bundle:n.PracticeWithBot,name:"KKMenuPracticePopup",cacheMode:a.Cache}}),e("KKAuthPopupConf",{Login:{bundle:n.Auth,name:"KKLoginPopup",cacheMode:a.Cache}});o._RF.pop()}}}));

System.register("chunks:///_virtual/KKTableView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,l,o,i,r,n,c,s,a,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.initializerDefineProperty},function(e){o=e.cclegacy,i=e.Node,r=e.EventHandler,n=e._decorator,c=e.ScrollView,s=e.warn,a=e.error,p=e.UITransform,h=e.instantiate}],execute:function(){var u,f,d,m,g,N,C,S,_,y;o._RF.push({},"2a2e3JmU7lKMZQa07BNCJav","KKTableView",void 0);const{ccclass:v,property:O}=n;e("default",(u=O(i),f=O(i),d=O({type:r,tooltip:"Data-UI update callback-(cell:Node, idx:number, custom:string)"}),m=O({tooltip:"spacing between cells"}),v((C=t((N=class extends c{constructor(...e){super(...e),l(this,"cellNode",C,this),l(this,"notiEmpty",S,this),l(this,"updateCell",_,this),l(this,"spacing",y,this),this.preOffset=null,this.cellPool=[],this.headHideNum=0,this.tailHideNum=0,this.cellNum=0,this.cellLen=0}onLoad(){let e=this;!e.vertical&&!e.horizontal||e.vertical&&e.horizontal?s("TableView has wrong direction!"):(e.cellNode.active=!1,e.notiEmpty&&(e.notiEmpty.active=!1),e.node.on(c.EventType.SCROLL_BEGAN,e.onScrollBegan,e),e.node.on(c.EventType.SCROLLING,e.onScrolling,e))}refreshData(e){let t=this;if(console.log({numOfCells:e}),e<0)return void a("wrong number, must >= 0!");let l=t.cellNum;for(let e=0;e<l;++e)t._removeCell(e);if(t.cellNum=e,0===e)return t.headHideNum=0,t.tailHideNum=0,t.notiEmpty&&(t.notiEmpty.active=!0),t.vertical?(t.cellLen=t.cellNode.getComponent(p).height+t.spacing,t.content.getComponent(p).height=0,super.scrollToTop()):(t.cellLen=t.cellNode.getComponent(p).width+t.spacing,t.content.getComponent(p).width=0,super.scrollToLeft()),void(t.preOffset=t.getScrollOffset());t.notiEmpty&&(t.notiEmpty.active=!1),t.vertical?(t.cellLen=t.cellNode.getComponent(p).height+t.spacing,t.content.getComponent(p).height=t.cellLen*e):(t.cellLen=t.cellNode.getComponent(p).width+t.spacing,t.content.getComponent(p).width=t.cellLen*e);let o=t.vertical?t.content.parent.getComponent(p).height:t.content.parent.getComponent(p).width;if(0==l){let l=Math.min(Math.ceil(o/t.cellLen),e);t.headHideNum=0,t.tailHideNum=e-l;for(let e=0;e<l;++e)t._addNewCell(e);t.vertical?super.scrollToTop():super.scrollToLeft(),t.preOffset=t.getScrollOffset()}else{t.stopAutoScroll(),t._wrapOffset(t.preOffset);let l=t.vertical?t.preOffset.y:-t.preOffset.x,i=Math.ceil((l+o)/t.cellLen);i=Math.min(i,e),t.tailHideNum=e-i,t.headHideNum=Math.floor(l/t.cellLen);for(let e=t.headHideNum;e<i;++e)t._addNewCell(e)}}scrollToTop(e,t){this.stopAutoScroll(),super.scrollToTop(e,t),this._checkScroll(e)}scrollToBottom(e,t){this.stopAutoScroll(),super.scrollToBottom(e,t),this._checkScroll(e)}scrollToLeft(e,t){this.stopAutoScroll(),super.scrollToLeft(e,t),this._checkScroll(e)}scrollToRight(e,t){this.stopAutoScroll(),super.scrollToRight(e,t),this._checkScroll(e)}_checkScroll(e){let t=this;e||(t.preOffset=t.getScrollOffset(),t.refreshData(t.cellNum))}scrollToOffset(e,t,l){this.stopAutoScroll(),super.scrollToOffset(e,t,l),this._checkScroll(t)}_updateCell(e,t){let l=this;l.updateCell.target&&l.updateCell.handler&&l.updateCell.emit([e,t])}_getCell(){let e=this,t=null;return e.cellPool.length>0?t=e.cellPool.pop():(t=h(e.cellNode),t.active=!0),t.parent=e.content,t}_removeCell(e){let t=this,l=t.content.getChildByName(String(e));l&&(l.removeFromParent(),t.cellPool.push(l))}_setCellPosWithIdx(e,t){let l=this,o=e.getPosition();l.vertical?o.y=0-l.cellLen/2*(2*t+1)+l.spacing/2:o.x=l.cellLen/2*(2*t+1)-l.spacing/2,e.setPosition(o)}_checkCellWithIdx(e){let t=this;t.content.getChildByName(String(e))||t._addNewCell(e)}_addNewCell(e){let t=this,l=t._getCell();l.name=String(e),t._updateCell(l,e),t._setCellPosWithIdx(l,e)}_wrapOffset(e){let t=this;t.vertical?e.y<0?e.y=0:e.y>t.getMaxScrollOffset().y&&(e.y=t.getMaxScrollOffset().y):e.x>0?e.x=0:e.x<-t.getMaxScrollOffset().x&&(e.x=-t.getMaxScrollOffset().x)}onScrollBegan(e){this.preOffset=e.getScrollOffset()}onScrolling(e){let t=this;if(0==t.cellNum)return;let l=e.getScrollOffset();t._wrapOffset(l),t.vertical?t._onScroll(l.y-t.preOffset.y>0,l.y,t.content.parent.getComponent(p).height):t._onScroll(l.x-t.preOffset.x<0,-l.x,t.content.parent.getComponent(p).width),t.preOffset=l}_onScroll(e,t,l){let o=this,i=o.cellLen;if(e){let e=Math.floor(t/i);if(e>o.headHideNum){for(let t=o.headHideNum;t<e;++t)o._removeCell(t);o.headHideNum=e}let r=Math.ceil((t+l)/i);for(let e=o.cellNum-o.tailHideNum;e<r;++e)o._checkCellWithIdx(e);o.tailHideNum=o.cellNum-r}else{let e=o.cellNum-Math.ceil((t+l)/i);if(e>o.tailHideNum){for(let t=o.tailHideNum;t<e;++t)o._removeCell(o.cellNum-t-1);o.tailHideNum=e}let r=Math.floor(t/i);for(let e=o.headHideNum-1;e>=r;--e)o._checkCellWithIdx(e);o.headHideNum=r}}}).prototype,"cellNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(N.prototype,"notiEmpty",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(N.prototype,"updateCell",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),y=t(N.prototype,"spacing",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=N))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/LabelEllipsis.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,l,s,a,r,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){l=e.cclegacy,s=e.Label,a=e._decorator,r=e.Component,n=e.UITransform}],execute:function(){var o,c,h,p,b,u;l._RF.push({},"9fc93nMQPRG3LFdvyqQ2w2D","LabelEllipsis",void 0);const{ccclass:g,property:d}=a;e("EllipsisLabel",(o=g("EllipsisLabel"),c=d(s),o((b=t((p=class extends r{constructor(...e){super(...e),i(this,"label",b,this),i(this,"maxCharacters",u,this)}onLoad(){this.label||(this.label=this.getComponent(s)),this.label&&this.updateLabelWithEllipsis()}updateLabelWithEllipsis(){if(!this.label)return;const e=this.label.string;this.label.node.getComponent(n).contentSize.width;e.length>this.maxCharacters?this.label.string=e.substring(0,this.maxCharacters-3)+"...":this.label.string=e}setLabelText(e){this.label.string=e,this.updateLabelWithEllipsis()}}).prototype,"label",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=t(p.prototype,"maxCharacters",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),h=p))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/LayerBase.ts",["cc","./UIBase.ts"],(function(e){var s,a,c;return{setters:[function(e){s=e.cclegacy,a=e._decorator},function(e){c=e.UIBase}],execute:function(){var t;s._RF.push({},"a7388/HzEVFtq5K31XcR06N","LayerBase",void 0);const{ccclass:r}=a;e("LayerBase",r("LayerBase")(t=class extends c{refresh(){}})||t);s._RF.pop()}}}));

System.register("chunks:///_virtual/LayerUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7a864Zpb5N4Zm7onWE1i9D","LayerUtil",void 0);class a{get value(){return this._value}get name(){return this._name}get mask(){return 1<<this._value}constructor(e,t){this._value=void 0,this._name=void 0,this._value=e,this._name=t}}e("LayerItem",a);class n{static setNodeLayer(e,t){t.layer=e.mask,t.children.forEach((t=>{t.layer=e.mask,n.setNodeLayer(e,t)}))}}e("LayerUtil",n),n.MAP=new a(0,"MAP"),n.AVATAR=new a(1,"AVATAR"),n.IGNORE_RAYCAST=new a(20,"IGNORE_RAYCAST"),n.GIZMOS=new a(21,"GIZMOS"),n.EDITOR=new a(22,"EDITOR"),n.UI_3D=new a(23,"UI_3D"),n.SCENE_GIZMO=new a(24,"SCENE_GIZMO"),n.UI_2D=new a(25,"UI_2D"),n.PROFILTER=new a(28,"PROFILTER"),n.DEFAULT=new a(30,"DEFAULT"),t._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationManager.ts",["cc","./kk.ts"],(function(e){var a,t,l,s;return{setters:[function(e){a=e.cclegacy,t=e.resources,l=e.JsonAsset},function(e){s=e.default}],execute:function(){a._RF.push({},"a907ctOFLBHW4DfGMwIbFWq","LocalizationManager",void 0);e("LocalizationManager",class{constructor(){this.currentLang="vi",this.langData={},this.labels=[]}async loadLanguage(e){e=e.toLowerCase(),s.localMgr.setItem("selectedLang",`${e}`);try{const a=await new Promise(((a,s)=>{t.load(`lang/${e}`,l,((e,t)=>{e?s(e):a(t)}))}));this.currentLang=e,this.langData=a.json,this.updateAllLabels(),s.eventMgr.emit("language-changed")}catch(e){console.error("Failed to load language file:",e)}}registerLabel(e){this.labels.push(e)}unregisterLabel(e){this.labels=this.labels.filter((a=>a!==e))}updateAllLabels(){this.labels.forEach((e=>e.updateText()))}getText(e,a){let t=this.langData[e]||e;return a&&a.forEach(((e,a)=>{t=t.replace(`{${a}}`,e.toString())})),t}detectLanguage(){const e=s.localMgr.getItemWithDefault("selectedLang","vi"),a=navigator.language.split("-")[0];return e||a||"vi"}}),a._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./kk.ts"],(function(e){var t,a,i,r,l,n,o,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e.Label,l=e._decorator,n=e.Component,o=e.warn},function(e){s=e.default}],execute:function(){var c,u,p,b,h,g,d,f,L;i._RF.push({},"ca1d2fmo9xDbZQ1drhDahPf","LocalizedLabel",void 0);const{ccclass:y,property:m}=l;e("LocalizedLabel",(c=y("LocalizedLabel"),u=m({tooltip:"Key for localization"}),p=m({tooltip:"Optional parameters"}),b=m(r),c((d=t((g=class extends n{constructor(...e){super(...e),a(this,"key",d,this),a(this,"params",f,this),a(this,"label",L,this)}onLoad(){this.label||(this.label=this.node.getComponent(r))}start(){this.label?(s.lang.registerLabel(this),s.eventMgr.on("language-changed",this.updateText,this),this.updateText()):o("LocalizedLabel requires a Label component!")}onDestroy(){s.lang.unregisterLabel(this),s.eventMgr.offTargetAll(this)}updateText(){const e=s.lang.getText(this.key,this.params);this.label.string=e}}).prototype,"key",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=t(g.prototype,"params",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(g.prototype,"label",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalManager.ts",["cc","./Xor.ts"],(function(e){var t,r,a;return{setters:[function(e){t=e.sys,r=e.cclegacy},function(e){a=e.default}],execute:function(){r._RF.push({},"554fbebH89LW4XG8/1aIDS9","LocalManager",void 0);const s="any string";e("default",class{safeParse(e){try{return JSON.parse(e)}catch{return null}}getItem(e,r=!1){let l=t.localStorage.getItem(e);return null==l?null:(r&&(l=a.xor(l,s)),this.safeParse(l))}getItemWithDefault(e,r,l=!1){let n=t.localStorage.getItem(e);if(null==n)return this.setItem(e,r,l),r;l&&(n=a.xor(n,s));const o=this.safeParse(n);return null===o?(this.setItem(e,r,l),r):o}setItem(e,r,l=!1){let n=JSON.stringify(r);l&&(n=a.xor(n,s)),t.localStorage.setItem(e,n)}removeItem(e){t.localStorage.removeItem(e)}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GameCoTuongData.ts","./GameData.ts","./KKGameUIConf.ts","./MessageEvent.ts","./Stage.ts","./kk.ts","./Config.ts","./DebugManger.ts","./EventManager.ts","./HttpManager.ts","./LocalManager.ts","./LocalizationManager.ts","./SoundManager.ts","./UIManager.ts","./socket.io.mjs_cjs=&original=.js","./BaseSocket.ts","./SocketManager.ts","./AsyncHelper.ts","./CocosHelper.ts","./DebugHelper.ts","./Decorators.ts","./MathHelper.ts","./TimeHelper.ts","./Xor.ts","./BtnAdapter.ts","./LabelEllipsis.ts","./LayerBase.ts","./LocalizedLabel.ts","./PopupBase.ts","./UIBase.ts","./UIConfig.ts","./UpdateValueLabel.ts","./ArrayUtil.ts","./AsyncQueue.ts","./CameraUtil.ts","./DeviceUtil.ts","./EncryptUtil.ts","./ImageUtil.ts","./LayerUtil.ts","./MathUtil.ts","./ObjectPooling.ts","./ObjectUtil.ts","./PhysicsUtil.ts","./PlatformUtil.ts","./RandomTextUtil.ts","./RegexUtil.ts","./RotateUtil.ts","./SkinManager.ts","./StringUtil.ts","./TimeUtils.ts","./Vec3Util.ts","./Adapter.ts","./NodeSizeLimit.ts","./SafeWidgetAdapter.ts","./SpriteNumber.ts","./KKTableView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MathHelper.ts",["cc"],(function(t){var r,a,n;return{setters:[function(t){r=t.Vec2,a=t.v2,n=t.cclegacy}],execute:function(){n._RF.push({},"6c10eYQDrhM3LFSyZ0f5WEs","MathHelper",void 0);t("default",class{static randomInt0(t){return Math.floor(Math.random()*t)}static randomInt1(t){return Math.ceil(Math.random()*t)}static randomInt2(t,r){return t=Math.ceil(t),r=Math.floor(r),Math.floor(Math.random()*(r-t+1))+t}static randomFloat(t){return Math.random()*t}static randomFloat2(t,r){return Math.random()*(r-t)+t}static randomArray(t){return t[Math.floor(Math.random()*t.length)]}static randomV2(t,n,e=r.ZERO){return a(t*(Math.random()-.5),n*(Math.random()-.5)).add(e)}static toFixed(t,r=2,a=!1){if(r<0)return t;if(a)return t.toFixed(r);{let a=1;for(let t=0;t<r;++t)a*=10;return(Math.floor(t*a)/a).toFixed(r)}}static limit(t,r,a){return Math.min(a,Math.max(r,t))}}),n._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"8c615ZS4PRMPKPA9ZqKjiJC","MathUtil",void 0);class a{static sign(t){return t>0?1:t<0?-1:0}static progress(t,r,a){return t+(r-t)*a}static lerp(t,r,a){return a>1?a=1:a<0&&(a=0),t*(1-a)+r*a}static lerpAngle(t,r,e){const s=(r%=360)-(t%=360);return s>180?r=t-(360-s):s<-180&&(r=t+(360+s)),(a.lerp(t,r,e)%360+360)%360}static angleTowards(t,r,a){const e=(r%=360)-(t%=360);e>180?r=t-(360-e):e<-180&&(r=t+(360+e));const s=r-t;return a>Math.abs(s)?r:((t+a*Math.sign(s))%360+360)%360}static clamp(t,r,a){return t<r?r:t>a?a:t}static probability(t){return Math.random()<t}}t("MathUtil",a),a.deg2Rad=Math.PI/180,a.rad2Deg=180/Math.PI,r._RF.pop()}}}));

System.register("chunks:///_virtual/MessageEvent.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"31ffejupNdDAIwR1Tj5rG7C","MessageEvent",void 0);E("MessageEventType",function(E){return E.HIDE_TILE="HIDE_TILE",E.HIDE_TILE_HISTORY="HIDE_TILE_HISTORY",E.ON_SELECT_TILE="ON_SELECT_TILE",E.ON_MOVE_PIECE="ON_MOVE_PIECE",E.PUT_TO_POOL="PUT_TO_POOL",E.SHOW_HISTORY="SHOW_HISTORY",E}({}));_._RF.pop()}}}));

System.register("chunks:///_virtual/NodeSizeLimit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,o,s,r,l,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e.CCInteger,s=e.CCBoolean,r=e._decorator,l=e.Component,c=e.Node,a=e.UITransform}],execute:function(){var h,u,d,p,f,m,z;n._RF.push({},"94c4eRlfWNC3ISRCPtAGdhm","NodeSizeLimit",void 0);const{ccclass:C,property:S}=r;e("NodeSizeLimit",(h=C("NodeSizeLimit"),u=S(o),d=S(s),h((m=t((f=class extends l{constructor(...e){super(...e),i(this,"len",m,this),i(this,"isWidth",z,this)}onLoad(){this.node.on(c.EventType.SIZE_CHANGED,this.onResize,this),this.onResize()}onResize(){let e=this.node.getComponent(a),t=this.isWidth?e.width:e.height;if(t>this.len){let e=this.len/t;this.node.setScale(e,e,e)}else this.node.setScale(1,1,1)}}).prototype,"len",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 9999}}),z=t(f.prototype,"isWidth",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=f))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPooling.ts",["cc","./kk.ts"],(function(t){var e,o;return{setters:[function(t){e=t.cclegacy},function(t){o=t.default}],execute:function(){e._RF.push({},"92d71Lb9lRMLYt2T07s0Owl","ObjectPooling",void 0);class i{constructor(){this.pool=new Map,this.newNode=void 0,this.poolGet=void 0}async getNode(t){this.pool.has(t.name)||this.pool.set(t.name,[]),this.poolGet=this.pool.get(t.name);for(let t=0;t<this.poolGet.length;t++)if(!this.poolGet[t].active)return this.poolGet[t].active=!0,this.poolGet[t];return this.newNode=await o.uiMgr.createWidgetAsync(t),this.newNode.name=`${t.name}_objPooling_(${this.poolGet.length})`,this.poolGet.push(this.newNode),this.newNode}putNode(t){t.active=!1}deletePool(t){this.pool.delete(t.name)}}i.instance=void 0;t("default",new i);e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUtil.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"86827QLFSRM7Zojsx0WqWuQ","ObjectUtil",void 0);t("ObjectUtil",class{static isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}static deepCopy(t){if(null==t||"object"!=typeof t)return t;let e=null;if(t instanceof Date)return e=new Date,e.setTime(t.getTime()),e;if(t instanceof Array){e=[];for(let n=0,c=t.length;n<c;n++)e[n]=this.deepCopy(t[n]);return e}if(t instanceof Object){e={};for(const n in t)t.hasOwnProperty(n)&&(e[n]=this.deepCopy(t[n]));return e}console.warn(`不支持的类型：${e}`)}static copy(t){return JSON.parse(JSON.stringify(t))}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/PhysicsUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c1584nuvI9HtJ5IHcmFEBzR","PhysicsUtil",void 0);class s{get value(){return this._value}get name(){return this._name}get mask(){return 1<<this._value}constructor(e,t){this._value=void 0,this._name=void 0,this._value=e,this._name=t}}e("GroupItem",s);class a{static setNodeLayer(e,t){t.layer=e.mask,t.children.forEach((t=>{t.layer=e.mask,a.setNodeLayer(e,t)}))}}e("PhysicsUtil",a),a.DEFAULT=new s(0,"DEFAULT"),a.GAME_OBJECT_SELECT=new s(1,"GAME_OBJECT_SELECT"),a.GAME_OWNER=new s(2,"GAME_OWNER"),t._RF.pop()}}}));

System.register("chunks:///_virtual/PlatformUtil.ts",["cc"],(function(t){var e,r,o;return{setters:[function(t){e=t.cclegacy,r=t.sys,o=t.native}],execute:function(){e._RF.push({},"c08229jnmdPP5vR721N6GG9","PlatformUtil",void 0);t("PlatformUtil",class{getNetworkType(){return r.getNetworkType()}getBatteryLevel(){return r.getBatteryLevel()}openURL(t){r.openURL(t)}copyText(t){o.copyTextToClipboard(t)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/PopupBase.ts",["cc","./UIBase.ts","./kk.ts"],(function(t){var e,o,s,n,a,i,c,r,l,h;return{setters:[function(t){e=t.cclegacy,o=t.Widget,s=t.tween,n=t.v3,a=t.UIOpacity,i=t.Node,c=t.UITransform,r=t._decorator},function(t){l=t.UIBase},function(t){h=t.default}],execute:function(){var d;e._RF.push({},"82c96ZMl6RGy6W5Cg3SRgHF","PopupBase",void 0);const{ccclass:p}=r;t("PopupBase",p("PopupBase")(d=class extends l{constructor(...t){super(...t),this.ret=void 0,this.onDestroyCall=()=>{}}onDestroy(){h.uiMgr._autoRemovePopup(this.node.parent),this.onDestroyCall(this.ret),super.onDestroy()}close(){this.closeAnim()}showAnim(){this.node.getComponent(o).updateAlignment(),this.node.setScale(0,0,1),s(this.node).to(.2,{scale:n(1,1,1)},{easing:"backOut"}).start()}closeAnim(){s(this.node).to(.2,{scale:n(0,0,1)},{easing:"backIn"}).call((()=>{this.node.destroy()})).start()}setDarkBgOpacity(t){this.node.parent.getChildByName("dark").getComponent(a).opacity=t}enableClickBlankToClose(t){(!t||0==t.length)&&this.node.children.length>0&&(t=[this.node.children[0]]),this.node.on(i.EventType.TOUCH_END,(e=>{let o=e.getUIStartLocation(),s=e.getUILocation().subtract(o);if(Math.abs(s.x)<15&&Math.abs(s.y)<15){let e=!0;for(let s=0;s<t.length;++s)if(t[s].getComponent(c).getBoundingBoxToWorld().contains(o)){e=!1;break}e&&this.close()}}),this)}})||d);e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomTextUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"ec43emvQ8ZI7azPKhtiLVG9","RandomTextUtil",void 0);t("RandomTextUtil",class{static radomText(t){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*a));return r}static radomNumber(t){let r="";const e="0123456789",a=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*a));return r}static radomTextNumber(t){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*a));return r}static radomTextNumberSpecial(t){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+",a=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*a));return r}static radomTextSpecial(t){let r="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",a=e.length;for(let o=0;o<t;o++)r+=e.charAt(Math.floor(Math.random()*a));return r}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/RegexUtil.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dec9bVPigFCmKy5NVk+0y7h","RegexUtil",void 0);e("RegexUtil",class{static isDoubleWord(e){return/[^\x00-\xff]/.test(e)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/RotateUtil.ts",["cc","./Vec3Util.ts"],(function(t){var o,n,e,r,i;return{setters:[function(t){o=t.cclegacy,n=t.Quat,e=t.Vec3,r=t.toRadian},function(t){i=t.Vec3Util}],execute:function(){o._RF.push({},"103324kr75Hi5d7RZCcRt3P","RotateUtil",void 0);t("RotateUtil",class{static rotateAround(t,o,e){const r=new n;n.rotateAround(r,t.getRotation(),o.normalize(),e),t.setRotation(r)}static rotateAroundTarget(t,o,r,i){const a=t.worldPosition,s=o.worldPosition,c=new n,l=new e;n.fromAxisAngle(c,r,i),e.subtract(l,s,a),e.transformQuat(l,l,c),e.add(l,a,l),o.setWorldPosition(l),n.rotateAround(c,o.worldRotation,r,i),n.normalize(c,c),o.setWorldRotation(c)}static circularEdgePosition(t,o,a){const s=i.z.multiplyScalar(o),c=i.sub(s,t),l=new e,u=new n;return n.fromAxisAngle(u,e.UP,r(a)),e.transformQuat(l,c,u),e.add(l,t,l),l}}),o._RF.pop()}}}));

System.register("chunks:///_virtual/SafeWidgetAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,r,l,g,a,h,u,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.initializerDefineProperty},function(t){o=t.cclegacy,n=t.Enum,r=t._decorator,l=t.Component,g=t.Widget,a=t.warn,h=t.sys,u=t.view,s=t.UITransform}],execute:function(){var p,f,d,c,w,m,b,A,V,y,v,z,L;o._RF.push({},"a4e3cGfAA1CE5nZDLdDNa49","SafeWidgetAdapter",void 0);const{ccclass:S,property:D}=r,W=n({Align:0,Fill:1});t("SafeWidgetAdapter",(p=S("SafeWidgetAdapter"),f=D({tooltip:"是否适配顶部安全区域"}),d=D({tooltip:"是否适配底部安全区域"}),c=D({tooltip:"是否适配左边安全区域"}),w=D({tooltip:"是否适配右边安全区域"}),m=D({type:W,tooltip:"适配模式: Align表示对齐边缘模式，支持同时多方向；Fill表示拉伸模式，只支持单方向"}),p((V=i((A=class extends l{constructor(...t){super(...t),e(this,"top",V,this),e(this,"bottom",y,this),e(this,"left",v,this),e(this,"right",z,this),e(this,"mode",L,this),this.originValue={top:0,bottom:0,left:0,right:0,width:0,height:0},this.wgt=null}onLoad(){let t=this,i=t.node.getComponent(g);i?(t.wgt=i,t.originValue.top=i.top,t.originValue.bottom=i.bottom,t.originValue.left=i.left,t.originValue.right=i.right,t.refresh=t.refresh.bind(t),t.refresh()):a("There is no cc.Widget.")}onEnable(){window.addEventListener("orientationchange",this.refresh)}onDisable(){window.removeEventListener("orientationchange",this.refresh)}refresh(){let t=this,i=t.wgt;if(!i)return;let e=h.getSafeAreaRect(),o=u.getVisibleSize(),n=o.height-e.height-e.y,r=e.y,l=e.x,g=o.width-e.width-e.x;if(t.mode==W.Align)i.isAlignTop&&t.top&&(t.wgt.top=t.originValue.top+n),i.isAlignBottom&&t.bottom&&(t.wgt.bottom=t.originValue.bottom+r),i.isAlignLeft&&t.left&&(t.wgt.left=t.originValue.left+l),i.isAlignRight&&t.right&&(t.wgt.right=t.originValue.right+g);else{let e=t.node.getComponent(s);t.originValue.width||(t.originValue.width=e.width,t.originValue.height=e.height),i.isAlignTop&&t.top?(e.height=t.originValue.height+n,t.wgt.updateAlignment(),t.wgt.top=t.originValue.top):i.isAlignBottom&&t.bottom?(e.height=t.originValue.height+r,t.wgt.updateAlignment(),t.wgt.bottom=t.originValue.bottom):i.isAlignLeft&&t.left?(e.width=t.originValue.width+l,t.wgt.updateAlignment(),t.wgt.left=t.originValue.left):i.isAlignRight&&t.right&&(e.width=t.originValue.width+g,t.wgt.updateAlignment(),t.wgt.right=t.originValue.right)}}}).prototype,"top",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=i(A.prototype,"bottom",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=i(A.prototype,"left",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=i(A.prototype,"right",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=i(A.prototype,"mode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.Align}}),b=A))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinManager.ts",["cc","./KKGameUIConf.ts"],(function(t){var n,s,e,i,r;return{setters:[function(t){n=t.cclegacy,s=t.assetManager,e=t.SpriteFrame,i=t.log},function(t){r=t.KKBundleConf}],execute:function(){n._RF.push({},"49c1c4Pxb9HfYkiUN1W1zQ4","SkinManager",void 0);let o=t("GameType",function(t){return t[t.COTUONG=0]="COTUONG",t}({}));t("SkinGameManager",class{constructor(){this.skins=new Map;const t=new h("1002",r.CoTuong,["1000","1001","1002"],o.COTUONG);this.skins.set(o.COTUONG,t)}getSkinManager(t){return this.skins.get(t)}setCurrentSkin(t,n,s=!1){const e=this.getSkinManager(t);e?s?e.resetToDefaultSkin():e.setCurrentSkin(n):console.warn(`Không tìm thấy SkinManager cho gameType ${t}`)}});class h{constructor(t,n,s,e){this.currentSkin=void 0,this.defaultSkin=void 0,this.skinIds=void 0,this.bundle=void 0,this.skins=new Map,this.type=void 0,this.defaultSkin=t,this.bundle=n,this.skinIds=s,this.currentSkin=t,this.type=e}loadDirAssets(t,n,s){return new Promise(((e,i)=>{t.loadDir(n,s,((t,n,s)=>{}),((t,n)=>{t?i(t):e(n)}))}))}async loadAllSkinAssets(){const t=s.getBundle(this.bundle);if(t){if(this.type==o.COTUONG)for(const n of this.skinIds){const s=`Textures/skins/${n}/red`,r=`Textures/skins/${n}/black`;try{const h=await this.loadDirAssets(t,s,e),a=await this.loadDirAssets(t,r,e);if(8!==h.length||8!==a.length)throw new Error(`Skin ${n} không đủ 8 sprite cho mỗi màu`);const k={red:h,black:a,other:[]};this.skins.set(n,k),i(`Đã load skin ${o[this.type]} '${n}' thành công.`)}catch(t){console.error(`Lỗi khi load skin assets cho skinId ${n}:`,t)}}}else console.error(`Không tìm thấy bundle '${this.bundle}'!`)}getCurrentSkin(){return this.skins.get(this.currentSkin)}getAssetsBySkinId(t,n){return this.getCurrentSkin()[t].find((t=>t.name===n))}setCurrentSkin(t){this.skins.has(t)?(this.currentSkin=t,i(`Đã chuyển skin hiện tại sang: ${t}`)):console.warn(`Skin '${t}' không tồn tại!`)}resetToDefaultSkin(){this.currentSkin=this.defaultSkin,i(`Reset skin về mặc định: ${this.defaultSkin}`)}getListSkin(){console.log(this.skins)}}n._RF.pop()}}}));

System.register("chunks:///_virtual/socket.io.js",["./cjs-loader.mjs"],(function(t,e){var n;return{setters:[function(t){n=t.default}],execute:function(){let r;t("default",void 0);const i=t("__cjsMetaURL",e.meta.url);n.define(i,(function(e,n,i,o,s){
/*!
         * Socket.IO v4.8.1
         * (c) 2014-2024 Guillermo Rauch
         * Released under the MIT License.
         */
var a,c;a=this,c=function(){function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function e(t,e,n){if(c())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&u(i,n.prototype),i}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,u(t,e)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function u(t,e){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function d(t){var n="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return e(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)})(t)}var y=Object.create(null);y.open="0",y.close="1",y.ping="2",y.pong="3",y.message="4",y.upgrade="5",y.noop="6";var v=Object.create(null);Object.keys(y).forEach((function(t){v[y[t]]=t}));var g,m={type:"error",data:"parser error"},b="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),_="function"==typeof ArrayBuffer,w=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},C=function(t,e,n){var r=t.type,i=t.data;return b&&i instanceof Blob?e?n(i):k(i,n):_&&(i instanceof ArrayBuffer||w(i))?e?n(i):k(new Blob([i]),n):n(y[r]+(i||""))},k=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+(t||""))},n.readAsDataURL(t)};function A(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O="undefined"==typeof Uint8Array?[]:new Uint8Array(256),T=0;T<E.length;T++)O[E.charCodeAt(T)]=T;var R,S="function"==typeof ArrayBuffer,F=function(t,e){if("string"!=typeof t)return{type:"message",data:B(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:x(t.substring(1),e)}:v[n]?t.length>1?{type:v[n],data:t.substring(1)}:{type:v[n]}:m},x=function(t,e){if(S){var n=function(t){var e,n,r,i,o,s=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)n=O[t.charCodeAt(e)],r=O[t.charCodeAt(e+1)],i=O[t.charCodeAt(e+2)],o=O[t.charCodeAt(e+3)],h[c++]=n<<2|r>>4,h[c++]=(15&r)<<4|i>>2,h[c++]=(3&i)<<6|63&o;return u}(t);return B(n,e)}return{base64:!0,data:t}},B=function(t,e){switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},N=String.fromCharCode(30);function L(){return new TransformStream({transform:function(t,e){!function(t,e){b&&t.data instanceof Blob?t.data.arrayBuffer().then(A).then(e):_&&(t.data instanceof ArrayBuffer||w(t.data))?e(A(t.data)):C(t,!1,(function(t){g||(g=new TextEncoder),e(g.encode(t))}))}(t,(function(n){var r,i=n.length;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);var o=new DataView(r.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{r=new Uint8Array(9);var s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}t.data&&"string"!=typeof t.data&&(r[0]|=128),e.enqueue(r),e.enqueue(n)}))}})}function j(t){return t.reduce((function(t,e){return t+e.length}),0)}function P(t,e){if(t[0].length===e)return t.shift();for(var n=new Uint8Array(e),r=0,i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function q(t){if(t)return function(t){for(var e in q.prototype)t[e]=q.prototype[e];return t}(t)}q.prototype.on=q.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},q.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},q.prototype.off=q.prototype.removeListener=q.prototype.removeAllListeners=q.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},q.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},q.prototype.emitReserved=q.prototype.emit,q.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},q.prototype.hasListeners=function(t){return!!this.listeners(t).length};var I="function"==typeof Promise&&"function"==typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},U="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function D(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var M=U.setTimeout,V=U.clearTimeout;function H(t,e){e.useNativeTimers?(t.setTimeoutFn=M.bind(U),t.clearTimeoutFn=V.bind(U)):(t.setTimeoutFn=U.setTimeout.bind(U),t.clearTimeoutFn=U.clearTimeout.bind(U))}function z(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var K=function(t){function e(e,n,r){var i;return(i=t.call(this,e)||this).description=n,i.context=r,i.type="TransportError",i}return a(e,t),e}(d(Error)),W=function(t){function e(e){var n;return(n=t.call(this)||this).writable=!1,H(n,e),n.opts=e,n.query=e.query,n.socket=e.socket,n.supportsBinary=!e.forceBase64,n}a(e,t);var n=e.prototype;return n.onError=function(e,n,r){return t.prototype.emitReserved.call(this,"error",new K(e,n,r)),this},n.open=function(){return this.readyState="opening",this.doOpen(),this},n.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},n.send=function(t){"open"===this.readyState&&this.write(t)},n.onOpen=function(){this.readyState="open",this.writable=!0,t.prototype.emitReserved.call(this,"open")},n.onData=function(t){var e=F(t,this.socket.binaryType);this.onPacket(e)},n.onPacket=function(e){t.prototype.emitReserved.call(this,"packet",e)},n.onClose=function(e){this.readyState="closed",t.prototype.emitReserved.call(this,"close",e)},n.pause=function(t){},n.createUri=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)},n._hostname=function(){var t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"},n._port=function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""},n._query=function(t){var e=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}(t);return e.length?"?"+e:""},e}(q),Y=function(t){function e(){var e;return(e=t.apply(this,arguments)||this)._polling=!1,e}a(e,t);var n=e.prototype;return n.doOpen=function(){this._poll()},n.pause=function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this._polling||!this.writable){var r=0;this._polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()},n._poll=function(){this._polling=!0,this.doPoll(),this.emitReserved("poll")},n.onData=function(t){var e=this;(function(t,e){for(var n=t.split(N),r=[],i=0;i<n.length;i++){var o=F(n[i],e);if(r.push(o),"error"===o.type)break}return r})(t,this.socket.binaryType).forEach((function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose({description:"transport closed by the server"}),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())},n.doClose=function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)},n.write=function(t){var e=this;this.writable=!1,function(t,e){var n=t.length,r=new Array(n),i=0;t.forEach((function(t,o){C(t,!1,(function(t){r[o]=t,++i===n&&e(r.join(N))}))}))}(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emitReserved("drain")}))}))},n.uri=function(){var t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=z()),this.supportsBinary||e.sid||(e.b64=1),this.createUri(t,e)},r(e,[{key:"name",get:function(){return"polling"}}])}(W),$=!1;try{$="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){}var J=$;function Q(){}var X=function(t){function e(e){var n;if(n=t.call(this,e)||this,"undefined"!=typeof location){var r="https:"===location.protocol,i=location.port;i||(i=r?"443":"80"),n.xd="undefined"!=typeof location&&e.hostname!==location.hostname||i!==e.port}return n}a(e,t);var n=e.prototype;return n.doWrite=function(t,e){var n=this,r=this.request({method:"POST",data:t});r.on("success",e),r.on("error",(function(t,e){n.onError("xhr post error",t,e)}))},n.doPoll=function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e,n){t.onError("xhr poll error",e,n)})),this.pollXhr=e},e}(Y),G=function(t){function e(e,n,r){var i;return(i=t.call(this)||this).createRequest=e,H(i,r),i._opts=r,i._method=r.method||"GET",i._uri=n,i._data=void 0!==r.data?r.data:null,i._create(),i}a(e,t);var n=e.prototype;return n._create=function(){var t,n=this,r=D(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;var i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(var o in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}catch(t){}if("POST"===this._method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{i.setRequestHeader("Accept","*/*")}catch(t){}null===(t=this._opts.cookieJar)||void 0===t||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=function(){var t;3===i.readyState&&(null===(t=n._opts.cookieJar)||void 0===t||t.parseCookies(i.getResponseHeader("set-cookie"))),4===i.readyState&&(200===i.status||1223===i.status?n._onLoad():n.setTimeoutFn((function(){n._onError("number"==typeof i.status?i.status:0)}),0))},i.send(this._data)}catch(t){return void this.setTimeoutFn((function(){n._onError(t)}),0)}"undefined"!=typeof document&&(this._index=e.requestsCount++,e.requests[this._index]=this)},n._onError=function(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)},n._cleanup=function(t){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Q,t)try{this._xhr.abort()}catch(t){}"undefined"!=typeof document&&delete e.requests[this._index],this._xhr=null}},n._onLoad=function(){var t=this._xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())},n.abort=function(){this._cleanup()},e}(q);function Z(){for(var t in G.requests)G.requests.hasOwnProperty(t)&&G.requests[t].abort()}G.requestsCount=0,G.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Z):"function"==typeof addEventListener&&addEventListener("onpagehide"in U?"pagehide":"unload",Z,!1));var tt,et=(tt=rt({xdomain:!1}))&&null!==tt.responseType,nt=function(t){function e(e){var n;n=t.call(this,e)||this;var r=e&&e.forceBase64;return n.supportsBinary=et&&!r,n}return a(e,t),e.prototype.request=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o(t,{xd:this.xd},this.opts),new G(rt,this.uri(),t)},e}(X);function rt(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||J))return new XMLHttpRequest}catch(t){}if(!e)try{return new(U[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}var it="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),ot=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.doOpen=function(){var t=this.uri(),e=this.opts.protocols,n=it?{}:D(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,n)}catch(t){return this.emitReserved("error",t)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()},n.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=function(e){return t.onClose({description:"websocket connection closed",context:e})},this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}},n.write=function(t){var e=this;this.writable=!1;for(var n=function(){var n=t[r],i=r===t.length-1;C(n,e.supportsBinary,(function(t){try{e.doWrite(n,t)}catch(t){}i&&I((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},r=0;r<t.length;r++)n()},n.doClose=function(){void 0!==this.ws&&(this.ws.onerror=function(){},this.ws.close(),this.ws=null)},n.uri=function(){var t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=z()),this.supportsBinary||(e.b64=1),this.createUri(t,e)},r(e,[{key:"name",get:function(){return"websocket"}}])}(W),st=U.WebSocket||U.MozWebSocket,at={websocket:function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.createSocket=function(t,e,n){return it?new st(t,e,n):e?new st(t,e):new st(t)},n.doWrite=function(t,e){this.ws.send(e)},e}(ot),webtransport:function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.doOpen=function(){var t=this;try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then((function(){t.onClose()})).catch((function(e){t.onError("webtransport error",e)})),this._transport.ready.then((function(){t._transport.createBidirectionalStream().then((function(e){var n=function(t,e){R||(R=new TextDecoder);var n=[],r=0,i=-1,o=!1;return new TransformStream({transform:function(s,a){for(n.push(s);;){if(0===r){if(j(n)<1)break;var c=P(n,1);o=128==(128&c[0]),i=127&c[0],r=i<126?3:126===i?1:2}else if(1===r){if(j(n)<2)break;var u=P(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(2===r){if(j(n)<8)break;var h=P(n,8),f=new DataView(h.buffer,h.byteOffset,h.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(m);break}i=p*Math.pow(2,32)+f.getUint32(4),r=3}else{if(j(n)<i)break;var l=P(n,i);a.enqueue(F(o?l:R.decode(l),e)),r=0}if(0===i||i>t){a.enqueue(m);break}}}})}(Number.MAX_SAFE_INTEGER,t.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=L();i.readable.pipeTo(e.writable),t._writer=i.writable.getWriter(),function e(){r.read().then((function(n){var r=n.done,i=n.value;r||(t.onPacket(i),e())})).catch((function(t){}))}();var o={type:"open"};t.query.sid&&(o.data='{"sid":"'.concat(t.query.sid,'"}')),t._writer.write(o).then((function(){return t.onOpen()}))}))}))},n.write=function(t){var e=this;this.writable=!1;for(var n=function(){var n=t[r],i=r===t.length-1;e._writer.write(n).then((function(){i&&I((function(){e.writable=!0,e.emitReserved("drain")}),e.setTimeoutFn)}))},r=0;r<t.length;r++)n()},n.doClose=function(){var t;null===(t=this._transport)||void 0===t||t.close()},r(e,[{key:"name",get:function(){return"webtransport"}}])}(W),polling:nt},ct=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ut=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ht(t){if(t.length>8e3)throw"URI too long";var e,n,r,i=t,o=t.indexOf("["),s=t.indexOf("]");-1!=o&&-1!=s&&(t=t.substring(0,o)+t.substring(o,s).replace(/:/g,";")+t.substring(s,t.length));for(var a,c,u=ct.exec(t||""),h={},f=14;f--;)h[ut[f]]=u[f]||"";return-1!=o&&-1!=s&&(h.source=i,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=(e=h.path,n=/\/{2,9}/g,r=e.replace(n,"/").split("/"),"/"!=e.slice(0,1)&&0!==e.length||r.splice(0,1),"/"==e.slice(-1)&&r.splice(r.length-1,1),r),h.queryKey=(a=h.query,c={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(c[e]=n)})),c),h}var ft="function"==typeof addEventListener&&"function"==typeof removeEventListener,pt=[];ft&&addEventListener("offline",(function(){pt.forEach((function(t){return t()}))}),!1);var lt=function(t){function e(e,n){var r;if((r=t.call(this)||this).binaryType="arraybuffer",r.writeBuffer=[],r._prevBufferLen=0,r._pingInterval=-1,r._pingTimeout=-1,r._maxPayload=-1,r._pingTimeoutTime=1/0,e&&"object"===p(e)&&(n=e,e=null),e){var i=ht(e);n.hostname=i.host,n.secure="https"===i.protocol||"wss"===i.protocol,n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=ht(n.host).host);return H(r,n),r.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=r.secure?"443":"80"),r.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),r.port=n.port||("undefined"!=typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=[],r._transportsByName={},n.transports.forEach((function(t){var e=t.prototype.name;r.transports.push(e),r._transportsByName[e]=t})),r.opts=o({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"==typeof r.opts.query&&(r.opts.query=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}(r.opts.query)),ft&&(r.opts.closeOnBeforeunload&&(r._beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r._beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r._offlineEventListener=function(){r._onClose("transport close",{description:"network connection lost"})},pt.push(r._offlineEventListener))),r.opts.withCredentials&&(r._cookieJar=void 0),r._open(),r}a(e,t);var n=e.prototype;return n.createTransport=function(t){var e=o({},this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);var n=o({},this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)},n._open=function(){var t=this;if(0!==this.transports.length){var n=this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";var r=this.createTransport(n);r.open(),this.setTransport(r)}else this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0)},n.setTransport=function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(function(t){return e._onClose("transport close",t)}))},n.onOpen=function(){this.readyState="open",e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()},n._onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":var e=new Error("server error");e.code=t.data,this._onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}},n.onHandshake=function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()},n._resetPingTimeout=function(){var t=this;this.clearTimeoutFn(this._pingTimeoutTimer);var e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((function(){t._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()},n._onDrain=function(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()},n.flush=function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}},n._getWritablePackets=function(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var t,e=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(t){for(var e=0,n=0,r=0,i=t.length;r<i;r++)(e=t.charCodeAt(r))<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}return this.writeBuffer},n._hasPingExpired=function(){var t=this;if(!this._pingTimeoutTime)return!0;var e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,I((function(){t._onClose("ping timeout")}),this.setTimeoutFn)),e},n.write=function(t,e,n){return this._sendPacket("message",t,e,n),this},n.send=function(t,e,n){return this._sendPacket("message",t,e,n),this},n._sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},n.close=function(){var t=this,e=function(){t._onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},r=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?r():e()})):this.upgrading?r():e()),this},n._onError=function(t){if(e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)},n._onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ft&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){var n=pt.indexOf(this._offlineEventListener);-1!==n&&pt.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this._prevBufferLen=0}},e}(q);lt.protocol=4;var dt=function(t){function e(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="object"===p(e)?e:n;return(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map((function(t){return at[t]})).filter((function(t){return!!t}))),t.call(this,e,r)||this}return a(e,t),e}(function(t){function e(){var e;return(e=t.apply(this,arguments)||this)._upgrades=[],e}a(e,t);var n=e.prototype;return n.onOpen=function(){if(t.prototype.onOpen.call(this),"open"===this.readyState&&this.opts.upgrade)for(var e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])},n._probe=function(t){var e=this,n=this.createTransport(t),r=!1;lt.priorWebsocketSuccess=!1;var i=function(){r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(t){if(!r)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",n),!n)return;lt.priorWebsocketSuccess="websocket"===n.name,e.transport.pause((function(){r||"closed"!==e.readyState&&(h(),e.setTransport(n),n.send([{type:"upgrade"}]),e.emitReserved("upgrade",n),n=null,e.upgrading=!1,e.flush())}))}else{var i=new Error("probe error");i.transport=n.name,e.emitReserved("upgradeError",i)}})))};function o(){r||(r=!0,h(),n.close(),n=null)}var s=function(t){var r=new Error("probe error: "+t);r.transport=n.name,o(),e.emitReserved("upgradeError",r)};function a(){s("transport closed")}function c(){s("socket closed")}function u(t){n&&t.name!==n.name&&o()}var h=function(){n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),e.off("close",c),e.off("upgrading",u)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",u),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn((function(){r||n.open()}),200):n.open()},n.onHandshake=function(e){this._upgrades=this._filterUpgrades(e.upgrades),t.prototype.onHandshake.call(this,e)},n._filterUpgrades=function(t){for(var e=[],n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e},e}(lt));function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vt,gt,mt={exports:{}};function bt(){if(gt)return vt;gt=1;var t=1e3,e=60*t,n=60*e,r=24*n,i=7*r,o=365.25*r;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}return vt=function(a,c){c=c||{};var u=p(a);if("string"===u&&a.length>0)return function(s){if(!((s=String(s)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(a){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*r;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*e;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}(a);if("number"===u&&isFinite(a))return c.long?function(i){var o=Math.abs(i);return o>=r?s(i,o,r,"day"):o>=n?s(i,o,n,"hour"):o>=e?s(i,o,e,"minute"):o>=t?s(i,o,t,"second"):i+" ms"}(a):function(i){var o=Math.abs(i);return o>=r?Math.round(i/r)+"d":o>=n?Math.round(i/n)+"h":o>=e?Math.round(i/e)+"m":o>=t?Math.round(i/t)+"s":i+"ms"}(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}}var _t=function(t){function e(t){var r,i,o,s=null;function a(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(a.enabled){var o=a,s=Number(new Date),c=s-(r||s);o.diff=c,o.prev=r,o.curr=s,r=s,n[0]=e.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return"%";u++;var i=e.formatters[r];if("function"==typeof i){var s=n[u];t=i.call(o,s),n.splice(u,1),u--}return t})),e.formatArgs.call(o,n);var h=o.log||e.log;h.apply(o,n)}}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=n,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o)},set:function(t){s=t}}),"function"==typeof e.init&&e.init(a),a}function n(t,n){var r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function r(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){var t=[].concat(h(e.names.map(r)),h(e.skips.map(r).map((function(t){return"-"+t})))).join(",");return e.enable(""),t},e.enable=function(t){var n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=bt(),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((function(n){e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e};!function(t,e){var n;e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)}},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){var t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(n=!1,function(){n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||function(){},t.exports=_t(e),t.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(mt,mt.exports);var wt=yt(mt.exports),Ct=wt("socket.io-client:url"),kt="function"==typeof ArrayBuffer,At=Object.prototype.toString,Et="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===At.call(Blob),Ot="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===At.call(File);function Tt(t){return kt&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||Et&&t instanceof Blob||Ot&&t instanceof File}function Rt(t,e){if(!t||"object"!==p(t))return!1;if(Array.isArray(t)){for(var n=0,r=t.length;n<r;n++)if(Rt(t[n]))return!0;return!1}if(Tt(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return Rt(t.toJSON(),!0);for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&Rt(t[i]))return!0;return!1}function St(t){var e=[],n=t.data,r=t;return r.data=Ft(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ft(t,e){if(!t)return t;if(Tt(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){for(var r=new Array(t.length),i=0;i<t.length;i++)r[i]=Ft(t[i],e);return r}if("object"===p(t)&&!(t instanceof Date)){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=Ft(t[s],e));return o}return t}function xt(t,e){return t.data=Bt(t.data,e),delete t.attachments,t}function Bt(t,e){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Bt(t[n],e);else if("object"===p(t))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Bt(t[r],e));return t}var Nt,Lt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Nt||(Nt={}));var jt=function(){function t(t){this.replacer=t}var e=t.prototype;return e.encode=function(t){return t.type!==Nt.EVENT&&t.type!==Nt.ACK||!Rt(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})},e.encodeAsString=function(t){var e=""+t.type;return t.type!==Nt.BINARY_EVENT&&t.type!==Nt.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e},e.encodeAsBinary=function(t){var e=St(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r},t}(),Pt=function(t){function e(e){var n;return(n=t.call(this)||this).reviver=e,n}a(e,t);var n=e.prototype;return n.add=function(e){var n;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var r=(n=this.decodeString(e)).type===Nt.BINARY_EVENT;r||n.type===Nt.BINARY_ACK?(n.type=r?Nt.EVENT:Nt.ACK,this.reconstructor=new qt(n),0===n.attachments&&t.prototype.emitReserved.call(this,"decoded",n)):t.prototype.emitReserved.call(this,"decoded",n)}else{if(!Tt(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,t.prototype.emitReserved.call(this,"decoded",n))}},n.decodeString=function(t){var n=0,r={type:Number(t.charAt(0))};if(void 0===Nt[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Nt.BINARY_EVENT||r.type===Nt.BINARY_ACK){for(var i=n+1;"-"!==t.charAt(++n)&&n!=t.length;);var o=t.substring(i,n);if(o!=Number(o)||"-"!==t.charAt(n))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===t.charAt(n+1)){for(var s=n+1;++n&&","!==t.charAt(n)&&n!==t.length;);r.nsp=t.substring(s,n)}else r.nsp="/";var a=t.charAt(n+1);if(""!==a&&Number(a)==a){for(var c=n+1;++n;){var u=t.charAt(n);if(null==u||Number(u)!=u){--n;break}if(n===t.length)break}r.id=Number(t.substring(c,n+1))}if(t.charAt(++n)){var h=this.tryParse(t.substr(n));if(!e.isPayloadValid(r.type,h))throw new Error("invalid payload");r.data=h}return r},n.tryParse=function(t){try{return JSON.parse(t,this.reviver)}catch(t){return!1}},e.isPayloadValid=function(t,e){switch(t){case Nt.CONNECT:return Ut(e);case Nt.DISCONNECT:return void 0===e;case Nt.CONNECT_ERROR:return"string"==typeof e||Ut(e);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===Lt.indexOf(e[0]));case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(e)}},n.destroy=function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)},e}(q),qt=function(){function t(t){this.packet=t,this.buffers=[],this.reconPack=t}var e=t.prototype;return e.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=xt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},e.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]},t}(),It=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ut(t){return"[object Object]"===Object.prototype.toString.call(t)}var Dt=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Nt},Encoder:jt,Decoder:Pt,isPacketValid:function(t){return"string"==typeof t.nsp&&(void 0===(e=t.id)||It(e))&&function(t,e){switch(t){case Nt.CONNECT:return void 0===e||Ut(e);case Nt.DISCONNECT:return void 0===e;case Nt.EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===Lt.indexOf(e[0]));case Nt.ACK:return Array.isArray(e);case Nt.CONNECT_ERROR:return"string"==typeof e||Ut(e);default:return!1}}(t.type,t.data);var e}});function Mt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Vt=wt("socket.io-client:socket"),Ht=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),zt=function(t){function e(e,n,r){var i;return(i=t.call(this)||this).connected=!1,i.recovered=!1,i.receiveBuffer=[],i.sendBuffer=[],i._queue=[],i._queueSeq=0,i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=n,r&&r.auth&&(i.auth=r.auth),i._opts=o({},r),i.io._autoConnect&&i.open(),i}a(e,t);var n=e.prototype;return n.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[Mt(t,"open",this.onopen.bind(this)),Mt(t,"packet",this.onpacket.bind(this)),Mt(t,"error",this.onerror.bind(this)),Mt(t,"close",this.onclose.bind(this))]}},n.connect=function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this},n.open=function(){return this.connect()},n.send=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this},n.emit=function(t){var e,n,r;if(Ht.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(o.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;var a={type:Nt.EVENT,data:o,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof o[o.length-1]){var c=this.ids++;Vt("emitting packet with ack id %d",c);var u=o.pop();this._registerAckCallback(c,u),a.id=c}var h=null===(n=null===(e=this.io.engine)||void 0===e?void 0:e.transport)||void 0===n?void 0:n.writable,f=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired()),p=this.flags.volatile&&!h;return p?Vt("discard packet as the transport is not currently writable"):f?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a),this.flags={},this},n._registerAckCallback=function(t,e){var n,r=this,i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==i){var o=this.io.setTimeoutFn((function(){delete r.acks[t];for(var n=0;n<r.sendBuffer.length;n++)r.sendBuffer[n].id===t&&(Vt("removing packet with ack id %d from the buffer",t),r.sendBuffer.splice(n,1));Vt("event with ack id %d has timed out after %d ms",t,i),e.call(r,new Error("operation has timed out"))}),i),s=function(){r.io.clearTimeoutFn(o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.apply(r,n)};s.withError=!0,this.acks[t]=s}else this.acks[t]=e},n.emitWithAck=function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new Promise((function(n,i){var o=function(t,e){return t?i(t):n(e)};o.withError=!0,r.push(o),e.emit.apply(e,[t].concat(r))}))},n._addToQueue=function(t){var e,n=this;"function"==typeof t[t.length-1]&&(e=t.pop());var r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:o({fromQueue:!0},this.flags)};t.push((function(t){if(r===n._queue[0]){var i=null!==t;if(i)r.tryCount>n._opts.retries&&(Vt("packet [%d] is discarded after %d tries",r.id,r.tryCount),n._queue.shift(),e&&e(t));else if(Vt("packet [%d] was successfully sent",r.id),n._queue.shift(),e){for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];e.apply(void 0,[null].concat(s))}return r.pending=!1,n._drainQueue()}})),this._queue.push(r),this._drainQueue()},n._drainQueue=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Vt("draining queue"),this.connected&&0!==this._queue.length){var e=this._queue[0];!e.pending||t?(e.pending=!0,e.tryCount++,Vt("sending packet [%d] (try n°%d)",e.id,e.tryCount),this.flags=e.flags,this.emit.apply(this,e.args)):Vt("packet [%d] has already been sent and is waiting for an ack",e.id)}},n.packet=function(t){t.nsp=this.nsp,this.io._packet(t)},n.onopen=function(){var t=this;Vt("transport is open - connecting"),"function"==typeof this.auth?this.auth((function(e){t._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)},n._sendConnectPacket=function(t){this.packet({type:Nt.CONNECT,data:this._pid?o({pid:this._pid,offset:this._lastOffset},t):t})},n.onerror=function(t){this.connected||this.emitReserved("connect_error",t)},n.onclose=function(t,e){Vt("close (%s)",t),this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()},n._clearAcks=function(){var t=this;Object.keys(this.acks).forEach((function(e){if(!t.sendBuffer.some((function(t){return String(t.id)===e}))){var n=t.acks[e];delete t.acks[e],n.withError&&n.call(t,new Error("socket has been disconnected"))}}))},n.onpacket=function(t){if(t.nsp===this.nsp)switch(t.type){case Nt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(t);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(t);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();var e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}},n.onevent=function(t){var e=t.data||[];Vt("emitting event %j",e),null!=t.id&&(Vt("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))},n.emitEvent=function(e){if(this._anyListeners&&this._anyListeners.length){var n,r=i(this._anyListeners.slice());try{for(r.s();!(n=r.n()).done;)n.value.apply(this,e)}catch(t){r.e(t)}finally{r.f()}}t.prototype.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])},n.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];Vt("sending ack %j",i),e.packet({type:Nt.ACK,id:t,data:i})}}},n.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(delete this.acks[t.id],Vt("calling ack %s with %j",t.id,t.data),e.withError&&t.data.unshift(null),e.apply(this,t.data)):Vt("bad ack %s",t.id)},n.onconnect=function(t,e){Vt("socket connected with id %s",t),this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)},n.emitBuffered=function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){t.notifyOutgoingListeners(e),t.packet(e)})),this.sendBuffer=[]},n.ondisconnect=function(){Vt("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.destroy=function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)},n.disconnect=function(){return this.connected&&(Vt("performing disconnect (%s)",this.nsp),this.packet({type:Nt.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},n.close=function(){return this.disconnect()},n.compress=function(t){return this.flags.compress=t,this},n.timeout=function(t){return this.flags.timeout=t,this},n.onAny=function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this},n.prependAny=function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this},n.offAny=function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this},n.listenersAny=function(){return this._anyListeners||[]},n.onAnyOutgoing=function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this},n.prependAnyOutgoing=function(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this},n.offAnyOutgoing=function(t){if(!this._anyOutgoingListeners)return this;if(t){for(var e=this._anyOutgoingListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this},n.listenersAnyOutgoing=function(){return this._anyOutgoingListeners||[]},n.notifyOutgoingListeners=function(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var e,n=i(this._anyOutgoingListeners.slice());try{for(n.s();!(e=n.n()).done;)e.value.apply(this,t.data)}catch(t){n.e(t)}finally{n.f()}}},r(e,[{key:"disconnected",get:function(){return!this.connected}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}])}(q);function Kt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Kt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Kt.prototype.reset=function(){this.attempts=0},Kt.prototype.setMin=function(t){this.ms=t},Kt.prototype.setMax=function(t){this.max=t},Kt.prototype.setJitter=function(t){this.jitter=t};var Wt=wt("socket.io-client:manager"),Yt=function(t){function e(e,n){var r,i;(r=t.call(this)||this).nsps={},r.subs=[],e&&"object"===p(e)&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",r.opts=n,H(r,n),r.reconnection(!1!==n.reconnection),r.reconnectionAttempts(n.reconnectionAttempts||1/0),r.reconnectionDelay(n.reconnectionDelay||1e3),r.reconnectionDelayMax(n.reconnectionDelayMax||5e3),r.randomizationFactor(null!==(i=n.randomizationFactor)&&void 0!==i?i:.5),r.backoff=new Kt({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==n.timeout?2e4:n.timeout),r._readyState="closed",r.uri=e;var o=n.parser||Dt;return r.encoder=new o.Encoder,r.decoder=new o.Decoder,r._autoConnect=!1!==n.autoConnect,r._autoConnect&&r.open(),r}a(e,t);var n=e.prototype;return n.reconnection=function(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection},n.reconnectionAttempts=function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)},n.reconnectionDelay=function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)},n.randomizationFactor=function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)},n.reconnectionDelayMax=function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)},n.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},n.maybeReconnectOnOpen=function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},n.open=function(t){var e=this;if(Wt("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;Wt("opening %s",this.uri),this.engine=new dt(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=Mt(n,"open",(function(){r.onopen(),t&&t()})),o=function(n){Wt("error"),e.cleanup(),e._readyState="closed",e.emitReserved("error",n),t?t(n):e.maybeReconnectOnOpen()},s=Mt(n,"error",o);if(!1!==this._timeout){var a=this._timeout;Wt("connect attempt will timeout after %d",a);var c=this.setTimeoutFn((function(){Wt("connect attempt timed out after %d",a),i(),o(new Error("timeout")),n.close()}),a);this.opts.autoUnref&&c.unref(),this.subs.push((function(){e.clearTimeoutFn(c)}))}return this.subs.push(i),this.subs.push(s),this},n.connect=function(t){return this.open(t)},n.onopen=function(){Wt("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(Mt(t,"ping",this.onping.bind(this)),Mt(t,"data",this.ondata.bind(this)),Mt(t,"error",this.onerror.bind(this)),Mt(t,"close",this.onclose.bind(this)),Mt(this.decoder,"decoded",this.ondecoded.bind(this)))},n.onping=function(){this.emitReserved("ping")},n.ondata=function(t){try{this.decoder.add(t)}catch(t){this.onclose("parse error",t)}},n.ondecoded=function(t){var e=this;I((function(){e.emitReserved("packet",t)}),this.setTimeoutFn)},n.onerror=function(t){Wt("error",t),this.emitReserved("error",t)},n.socket=function(t,e){var n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new zt(this,t,e),this.nsps[t]=n),n},n._destroy=function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var r=n[e];if(this.nsps[r].active)return void Wt("socket %s is still active, skipping close",r)}this._close()},n._packet=function(t){Wt("writing packet %j",t);for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)},n.cleanup=function(){Wt("cleanup"),this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()},n._close=function(){Wt("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")},n.disconnect=function(){return this._close()},n.onclose=function(t,e){var n;Wt("closed due to %s",t),this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()},n.reconnect=function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)Wt("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();Wt("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=this.setTimeoutFn((function(){e.skipReconnect||(Wt("attempting reconnect"),t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(Wt("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):(Wt("reconnect success"),e.onreconnect())})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){t.clearTimeoutFn(r)}))}},n.onreconnect=function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)},e}(q),$t=wt("socket.io-client"),Jt={};function Qt(t,e){"object"===p(t)&&(e=t,t=void 0);var n,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(Ct("protocol-less url %s",t),t=void 0!==n?n.protocol+"//"+t:"https://"+t),Ct("parse %s",t),r=ht(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),i=r.source,o=r.id,s=r.path,a=Jt[o]&&s in Jt[o].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||a?($t("ignoring socket cache for %s",i),n=new Yt(i,e)):(Jt[o]||($t("new io instance for %s",i),Jt[o]=new Yt(i,e)),n=Jt[o]),r.query&&!e.query&&(e.query=r.queryKey),n.socket(r.path,e)}return o(Qt,{Manager:Yt,Socket:zt,io:Qt,connect:Qt}),Qt},"object"==typeof e&&void 0!==i?i.exports=c():"function"==typeof define&&define.amd?define(c):(a="undefined"!=typeof globalThis?globalThis:a||self).io=c(),r=t("default",i.exports),i.exports.formatArgs,i.exports.save,i.exports.load,i.exports.useColors,i.exports.storage,i.exports.destroy,i.exports.colors,i.exports.log}),{})}}}));

System.register("chunks:///_virtual/socket.io.mjs_cjs=&original=.js",["./socket.io.js","./cjs-loader.mjs"],(function(e,t){var s,r;return{setters:[function(t){s=t.__cjsMetaURL;var r={};r.__cjsMetaURL=t.__cjsMetaURL,r.default=t.default,e(r)},function(e){r=e.default}],execute:function(){s||r.throwInvalidWrapper("./socket.io.js",t.meta.url),r.require(s)}}}));

System.register("chunks:///_virtual/SocketManager.ts",["cc","./BaseSocket.ts"],(function(s){var t,e,c,o;return{setters:[function(s){t=s.warn,e=s.cclegacy},function(s){c=s.BaseSocket,o=s.SocketErrCode}],execute:function(){e._RF.push({},"489c5+jG5ZFhLK9D9DA7tR7","SocketManager",void 0);s("default",class{constructor(){this._sockets={}}connectAsync(s,t,e=0){return new Promise(((o,n)=>{this._sockets[e]||(this._sockets[e]=new c),this._sockets[e].connectAsync(s,t).then(o).catch(n)}))}close(s=!1,t=0){this._sockets[t]&&(this._sockets[t].close(s),s&&delete this._sockets[t])}reqAsync(s,e,c=!1,n=0){return new Promise(((i,h)=>{this._sockets[n]?this._sockets[n].reqAsync(s,e,c).then(i).catch(h):(t("This ws does not exist!"),h(o.NoThisSocket))}))}on(s,t,e,c=0){this._sockets[c]&&this._sockets[c].on(s,t,e)}off(s,t,e,c=0){this._sockets[c]&&this._sockets[c].off(s,t,e)}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["cc"],(function(t){var i,s,e,u,c;return{setters:[function(t){i=t.assetManager,s=t.warn,e=t.Node,u=t.AudioSource,c=t.cclegacy}],execute:function(){c._RF.push({},"cdc1829IlZKh6mOJsAkLqB5","SoundManager",void 0);t("default",class{constructor(){this._bundle="",this._path="",this._musicVolume=1,this._effectVolume=1,this._isMusicMute=!1,this._isEffectMute=!1,this._musicAudio=null,this._effectsMap=new Map,this._audioID=0}init(t,i){this._bundle=t,this._path=i}playMusicAsync(t,c,o=!0){return new Promise(((f,h)=>{let l=i.getBundle(c||this._bundle);if(!l)return s("Bundle not found!"),void h();l.load(this._path+t,((t,i)=>{if(t)return s(t),void h();this.stopMusic();let c=new e;this._musicAudio=c.addComponent(u),this._musicAudio.clip=i,this._musicAudio.volume=this._musicVolume*(this._isMusicMute?0:1),this._musicAudio.loop=o,this._musicAudio.play(),o?f():c.on(u.EventType.ENDED,f)}))}))}stopMusic(){this._musicAudio&&(this._clearAudio(this._musicAudio),this._musicAudio=null)}pauseMusic(){if(this._musicAudio){if(this._musicAudio.state==u.AudioState.PAUSED)return;this._musicAudio.pause()}}resumeMusic(){if(this._musicAudio){if(this._musicAudio.state!=u.AudioState.PAUSED)return;this._musicAudio.play()}}isMusicPlaying(){return!!this._musicAudio&&this._musicAudio.playing}playEffectAsync(t,c,o=!1){return new Promise(((f,h)=>{let l=i.getBundle(c||this._bundle);if(!l)return s("Bundle not found!"),void h();l.load(this._path+t,((t,i)=>{if(t)return s(t),void h();let c=new e,l=c.addComponent(u);l.clip=i,l.volume=this._effectVolume*(this._isEffectMute?0:1),l.loop=o,l.play(),this._audioID+=1;let _=this._audioID;this._effectsMap.set(_,l),o||c.on(u.EventType.ENDED,(()=>{this.stopEffect(_)})),f(_)}))}))}stopEffect(t){let i=this._effectsMap.get(t);i&&(this._clearAudio(i),this._effectsMap.delete(t))}stopAllEffects(){this._effectsMap.forEach(((t,i)=>{this._clearAudio(t)})),this._effectsMap.clear()}stopAll(){this.stopMusic(),this.stopAllEffects()}pauseEffect(t){let i=this._effectsMap.get(t);if(i){if(i.state==u.AudioState.PAUSED)return;i.pause()}}resumeEffect(t){let i=this._effectsMap.get(t);if(i){if(i.state!=u.AudioState.PAUSED)return;i.play()}}setMusicVolume(t){this._musicVolume=t,this._musicAudio&&(this._musicAudio.volume=t*(this._isMusicMute?0:1))}setEffectsVolume(t){this._effectVolume=t,this._effectsMap.forEach(((i,s)=>{i.volume=t*(this._isEffectMute?0:1)}))}setMute(t){this.setMusicMute(t),this.setEffectMute(t)}setMusicMute(t){t!=this._isMusicMute&&(this._isMusicMute=t,this.setMusicVolume(this._musicVolume))}setEffectMute(t){t!=this._isEffectMute&&(this._isEffectMute=t,this.setEffectsVolume(this._effectVolume))}_clearAudio(t){t.node.off(u.EventType.ENDED),t.stop(),t.clip=null,t.node.destroy()}}),c._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CocosHelper.ts"],(function(e){var t,r,n,i,o,s,l,u,a,p,d,c,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.CCInteger,o=e.SpriteFrame,s=e._decorator,l=e.Component,u=e.NodePool,a=e.Node,p=e.Sprite,d=e.Layout,c=e.tween},function(e){m=e.default}],execute:function(){var h,f,y,v,b,g,F,P,O;n._RF.push({},"d616f4/WRpCBb0yvPBiWy0r","SpriteNumber",void 0);const{ccclass:S,property:N}=s;e("SpriteNumber",(h=S("SpriteNumber"),f=N({type:i,tooltip:"数字图片间隔距离"}),y=N({type:i,tooltip:"小数点或逗号垂直方向偏移"}),v=N({type:[o],tooltip:"0123456789.,+-"}),h((F=t((g=class extends l{constructor(...e){super(...e),r(this,"divX",F,this),r(this,"dotOffsetY",P,this),r(this,"numFrms",O,this),this._v="",this.ndPool=new u}get value(){return this._v}set value(e){let t=this,r=String(e);t._v=r;for(let e=t.node.children.length-1;e>=0;--e)t.removeOne(t.node.children[e]);let n=0;for(let e=0;e<r.length;++e){let i=t.getOne();if(n=0,"+"==r[e])i.spriteFrame=t.numFrms[12];else if("-"==r[e])i.spriteFrame=t.numFrms[13];else{let o="."==r[e],s=","==r[e];i.spriteFrame=o?t.numFrms[10]:s?t.numFrms[11]:t.numFrms[Number(r[e])],(o||s)&&(n=t.dotOffsetY)}i.node.setPosition(0,n),i.node.parent=t.node}}getOne(){return 0==this.ndPool.size()?m.addSprite(new a,{spriteFrame:null}):this.ndPool.get().getComponent(p)}removeOne(e){this.ndPool.put(e)}start(){m.addLayout(this.node,{type:d.Type.HORIZONTAL,spacingX:this.divX})}onDestroy(){this.ndPool.clear(),this.ndPool=null}numVarTween(e,t,r,n=1){let i=Math.round(20*n),o=(t-e)/i;c(this.node).delay(.05).call((()=>{e+=o,this.value=r(e)})).union().repeat(i).call((()=>{this.value=r(t)})).start()}}).prototype,"divX",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(g.prototype,"dotOffsetY",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=t(g.prototype,"numFrms",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=g))||b));n._RF.pop()}}}));

System.register("chunks:///_virtual/Stage.ts",["cc","./kk.ts","./KKGameUIConf.ts","./Config.ts"],(function(e){var n,t,o,a,c,s,r,i;return{setters:[function(e){n=e.cclegacy,t=e.Component,o=e.resources,a=e.JsonAsset,c=e._decorator},function(e){s=e.default},function(e){r=e.KKLayerConf},function(e){i=e.ConfigService}],execute:function(){var g;n._RF.push({},"2f122tdkLdNn6oHxq47wsfX","Stage",void 0);const{ccclass:u,property:f}=c;e("Stage",u("Stage")(g=class extends t{async start(){const e=s.lang.detectLanguage(),n=await new Promise(((e,n)=>{o.load("config",a,((t,o)=>{t?n(t):e(o)}))}));s.config.service=new i(n),s.init(),s.lang.loadLanguage(e),s.uiMgr.goLayerAsync(r.Load)}})||g);n._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtil.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"aa8435LSBtAR5HPsje6IJ2w","StringUtil",void 0);t("StringUtil",class{static guid(){let t="";for(let r=1;r<=32;r++){t+=Math.floor(16*Math.random()).toString(16),8!=r&&12!=r&&16!=r&&20!=r||(t+="-")}return t}static numberTotPermil(t){return t.toLocaleString()}static numberToThousand(t,r=2){const e=1e3,n=["","K","M","G"];if(t<e)return t.toString();{const s=Math.floor(Math.log(t)/Math.log(e));return(t/Math.pow(e,s)).toFixed(r)+n[s]}}static numberToTenThousand(t,r=2){const e=1e4,n=["","万","亿","万亿"];if(t<e)return t.toString();{const s=Math.floor(Math.log(t)/Math.log(e));return(t/Math.pow(e,s)).toFixed(r)+n[s]}}static stringToArray1(t){return""==t?[]:t.split(",")}static stringToArray2(t){return""==t?[]:t.split("|")}static stringToArray3(t){return""==t?[]:t.split(":")}static stringToArray4(t){return""==t?[]:t.split(";")}static sub(t,r,e=!1){const n=/[^\x00-\xff]/g;if(t.replace(n,"mm").length<=r)return t;for(let s=Math.floor(r/2);s<t.length;s++)if(t.substr(0,s).replace(n,"mm").length>=r)return e?t.substr(0,s)+"...":t.substr(0,s);return t}static stringLen(t){let r=0,e=t.length,n=-1;for(let s=0;s<e;s++)n=t.charCodeAt(s),r+=n>=0&&n<=128?1:2;return r}static IsEmpty(t){return null==t||null==t||0==t.length}static substitute(t,...r){if(null==t)return"";let e,n=r.length;1==n&&r[0]instanceof Array?(e=r[0],n=e.length):e=r;for(let r=0;r<n;r++)t=t.replace(new RegExp("\\{"+r+"\\}","g"),e[r]);return t}}),r._RF.pop()}}}));

System.register("chunks:///_virtual/TimeHelper.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"d405cKVB+VLyJ44LBTBHwRg","TimeHelper",void 0);e("default",class{static getCurFullDate(e,t="/"){let n="",a=e?new Date(e):new Date;n+=a.getFullYear()+t;let r=a.getMonth()+1;n+=r<10?"0"+r:r,n+=t;let u=a.getDate();return n+=u<10?"0"+u:u,n}static getCurDate(e,t="/"){let n="",a=e?new Date(e):new Date,r=a.getMonth()+1;n+=r<10?"0"+r:r,n+=t;let u=a.getDate();return n+=u<10?"0"+u:u,n}static getDayOfMonth(e){return(e?new Date(e):new Date).getDate()}static getCurDetailTime(e,t=":"){let n=e?new Date(e):new Date;return n.getHours()+t+n.getMinutes()+t+n.getSeconds()+t+n.getMilliseconds()}static getCurNormalTime(e,t=":"){let n=e?new Date(e):new Date;return n.getHours()+t+n.getMinutes()+t+n.getSeconds()}static getCurShortTime(e,t=":"){let n=e?new Date(e):new Date;return n.getHours()+t+n.getMinutes()}static getTimeStamp(){return Date.now()}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtils.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c2070jsq0FDcaTrFhyA8yzm","TimeUtils",void 0);e("TimeUtil",class{static daysBetween(e,t){null==t&&(t=+new Date);let a=new Date(e).toLocaleDateString(),s=new Date(t).toLocaleDateString(),n=new Date(a).getTime(),i=new Date(s).getTime();return Math.abs(n-i)/864e5}static secsBetween(e,t){let a=Math.abs(t-e)/1e3;return a=Math.floor(a)+1,a}static async sleep(e){return new Promise((t=>{setTimeout((()=>{t()}),e)}))}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["cc"],(function(e){var t,s,n,r;return{setters:[function(e){t=e.cclegacy,s=e.Component,n=e.warn,r=e._decorator}],execute:function(){var o;t._RF.push({},"20f52nE8qZBebODYeB7lFTm","UIBase",void 0);const{ccclass:c,property:i}=r;e("UIBase",c("UIBase")(o=class extends s{constructor(...e){super(...e),this.refAssets=[],this.recvData=void 0}onBtnClick(e,t){}onDestroy(){this.refAssets.forEach(((e,t)=>{e.decRef()})),this.refAssets=null}getObj(e,t,s){let r,o,c;"string"==typeof e?(r=this.node,o=e,c=t):(r=e,o=t,c=s);let i=o.split(".");for(let e=0;e<i.length;++e)if(r=r.getChildByName(i[e]),!r)return i.length>1&&n("Child is NULL!",i[e]),null;return c?r.getComponent(c):r}})||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["cc"],(function(e){var P;return{setters:[function(e){P=e.cclegacy}],execute:function(){P._RF.push({},"234edNDZPJMfqZX3vbxtXKO","UIConfig",void 0);e("UICacheMode",{NoCache:0,Cache:1,Stay:2}),e("LAYER_PATH","Prefabs/Layer/"),e("POPUP_PATH","Prefabs/Popup/"),e("PANEL_PATH","Prefabs/Panel/"),e("WIDGET_PATH","Prefabs/Widget/");P._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["cc","./kk.ts","./UIConfig.ts","./UIBase.ts","./AsyncHelper.ts","./CocosHelper.ts"],(function(e){var a,t,n,r,o,d,s,c,l,i,u,g,y,m,p,h,C,f;return{setters:[function(e){a=e.assetManager,t=e.Prefab,n=e.Node,r=e.BlockInputEvents,o=e.Sprite,d=e.UIOpacity,s=e.instantiate,c=e.UITransform,l=e.cclegacy},function(e){i=e.default},function(e){u=e.UICacheMode,g=e.LAYER_PATH,y=e.POPUP_PATH,m=e.PANEL_PATH,p=e.WIDGET_PATH},function(e){h=e.UIBase},function(e){C=e.default},function(e){f=e.default}],execute:function(){l._RF.push({},"c8d38n/KhpOWo+93AqiABif","UIManager",void 0);e("default",class{constructor(){this._curLayerConf=void 0,this.pureBanFrm=null}getCurLayerConf(){return this._curLayerConf}getCurLayer(){return i.godNode.getChildByName(this._curLayerConf.name)}async goLayerAsync(e,a){let t=this,n=t._curLayerConf;if(n&&n.name===e.name)t.resetCurLayerAsync(a);else{if(t._curLayerConf=e,e.cacheMode==u.Stay){let r=i.godNode.getChildByName(e.name);if(r){r.active=!0;let o=e.script?e.script:e.name,d=r.getComponent(o);return d.recvData=a,d.refresh(),i.debugMgr.log("show Layer",e.name),void t._clearLayer(n)}}(await t._genUIBaseAsync(e,g,a)).parent=i.godNode,i.debugMgr.log("create Layer",e.name),t._clearLayer(n)}}async resetCurLayerAsync(e){let a=this,t=a._curLayerConf;if(t)if(t.cacheMode==u.Stay){let a=i.godNode.getChildByName(t.name),n=t.script?t.script:t.name,r=a.getComponent(n);r.recvData=e,r.refresh(),i.debugMgr.log("refresh Layer",t.name)}else{let n=i.godNode.getChildByName(t.name);n.name="removed",(await a._genUIBaseAsync(t,g,e)).parent=i.godNode,n.destroy(),i.debugMgr.log("reset Layer",t.name)}}async preLoadLayerAsync(e,n){let r=a.getBundle(e.bundle);r||(r=await C.loadBundleAsync(e.bundle)),await C.preloadAsync(r,g+e.name,t,n)}_clearLayer(e){if(e){let a=i.godNode.getChildByName(e.name);e.cacheMode==u.Stay?(a.active=!1,i.debugMgr.log("hide Layer",e.name)):(a.destroy(),i.debugMgr.log("destroy Layer",e.name))}}async showPopupAsync(e,a){let t=this,s=new n(e.name);t.getCurLayer().addChild(s),s.addComponent(r),f.addWidget(s,{left:0,right:0,top:0,bottom:0});let c=new n("dark");t.pureBanFrm||(t.pureBanFrm=f.genPureColorSpriteFrame(),t.pureBanFrm.addRef()),c.addComponent(o).spriteFrame=t.pureBanFrm,c.addComponent(d).opacity=180,c.parent=s,f.addWidget(c,{left:0,right:0,top:0,bottom:0});let l=await t._genUIBaseAsync(e,y,a),u=e.script?e.script:e.name,g=l.getComponent(u);return l.parent=s,null==g||g.showAnim(),i.debugMgr.log("show Popup",e.name),new Promise(((e,a)=>{g.onDestroyCall=e}))}getPopup(e,a=null){a||(a=this._curLayerConf);let t=i.godNode.getChildByName(a.name);return t?t.getChildByName(e.name):null}closeAllPopup(){let e=i.godNode.getChildByName(this._curLayerConf.name);e&&e.children.forEach(((e,a)=>{e.name.endsWith("Popup")&&e.destroy()}))}_autoRemovePopup(e){null==e||e.destroy(),i.debugMgr.log("close Popup",e.name)}async createPanelAsync(e,a){return await this._genUIBaseAsync(e,m,a)}async createWidgetAsync(e,a){return console.log("createWidgetAsync",e,a),await this._genUIBaseAsync(e,p,a)}async _genUIBaseAsync(e,n,r){let o=a.getBundle(e.bundle);o||(o=await C.loadBundleAsync(e.bundle));let d=await C.loadAsync(o,n+e.name,t),c=s(d),l=e.script?e.script:e.name,i=c.getComponent(l);return i||(i=c.addComponent(h)),i.recvData=r,e.cacheMode==u.Cache?0==d.refCount&&d.addRef():(d.addRef(),i.refAssets.push(d)),c}banTouch(){if(!i.godNode.getChildByName("_ban")){let e=new n("_ban");e.addComponent(c).setContentSize(i.godNode.getComponent(c).contentSize),i.godNode.addChild(e),e.addComponent(r)}}unbanTouch(){let e=i.godNode.getChildByName("_ban");e&&e.destroy()}}),l._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateValueLabel.ts",["cc","./CocosHelper.ts"],(function(t){var i,a,e,s,l;return{setters:[function(t){i=t.cclegacy,a=t.Label,e=t.Component,s=t._decorator},function(t){l=t.coin}],execute:function(){var n;i._RF.push({},"adf3a/DYndOBILkBMZL2wIG","UpdateValueLabel",void 0);const{ccclass:h,requireComponent:r}=s;t("UpdateValueLabel",h("UpdateValueLabel")(n=r(a)(n=class extends e{constructor(...t){super(...t),this.isPlaying=!1,this.startVal=0,this.endVal=0,this.currVal=0,this.diffVal=0,this.currTime=0,this.changingTime=0,this.label=null}playUpdateValue({startVal:t=0,endVal:i,changingTime:e=.3}){this.startVal=t,this.endVal=i,this.diffVal=this.endVal-this.startVal,this.currTime=0,this.changingTime=e,this.currVal=i,this.label=this.node.getComponent(a),this.label.string=l(t),this.isPlaying=!0}update(t){if(this.isPlaying)if(this.currTime<this.changingTime){this.currTime=Math.min(this.currTime+t,this.changingTime);const i=this.currTime/this.changingTime,a=this.startVal+this.diffVal*i,e=this.calculateRoundedValue(a,i);this.label.string=l(e)}else this.label.string=l(this.endVal),this.isPlaying=!1}calculateRoundedValue(t,i){return this.diffVal>0?Math.floor(t):Math.ceil(t)}})||n)||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/Vec3Util.ts",["cc","./MathUtil.ts"],(function(t){var e,r,n,a;return{setters:[function(t){e=t.cclegacy,r=t.Vec3,n=t.Mat4},function(t){a=t.MathUtil}],execute:function(){e._RF.push({},"38947ih8d5EQ7HG4buug+SR","Vec3Util",void 0);class c{static get x(){return new r(1,0,0)}static get y(){return new r(0,1,0)}static get z(){return new r(0,0,1)}static get left(){return new r(-1,0,0)}static get right(){return new r(1,0,0)}static get up(){return new r(0,1,0)}static get down(){return new r(0,-1,0)}static get forward(){return new r(0,0,1)}static get back(){return new r(0,0,-1)}static get one(){return new r(1,1,1)}static get zero(){return new r(0,0,0)}static progress(t,e,n){const c=new r;return c.x=a.progress(t.x,e.x,n),c.y=a.progress(t.y,e.y,n),c.z=a.progress(t.z,e.z,n),c}static add(t,e){const n=new r;return r.add(n,t,e),n}static sub(t,e){const n=new r;return r.subtract(n,t,e),n}static mul(t,e){const n=new r;return r.multiplyScalar(n,t,e),n}static div(t,e){const n=new r;return n.x=t.x/e,n.y=t.y/e,n.z=t.z/e,n}static equals(t,e){return t.x==e.x&&t.y==e.y&&t.z==e.z}static magnitude(t){return t.length()}static normalize(t){return new r(t.x,t.y,t.z).normalize()}static direction(t,e){const n=new r;return r.subtract(n,e,t),n.normalize()}static distance(t,e){return r.distance(t,e)}static lerp(t,e,r){return this.bezierOne(r,t,e)}static slerp(t,e,n){if(n<=0)return t;if(n>=1)return e;var a=this.rotateTo(t,e,r.angle(t,e)/Math.PI*180*n),c=e.length()*n+t.length()*(1-n);return a.normalize().multiplyScalar(c)}static rotateTo(t,e,a){if(0==r.angle(t,e))return e;const c=new r;r.cross(c,t,e),c.normalize();const i=a*Math.PI/180,l=new n;return l.rotate(i,c),new r(t.x*l.m00+t.y*l.m04+t.z*l.m08,t.x*l.m01+t.y*l.m05+t.z*l.m09,t.x*l.m02+t.y*l.m06+t.z*l.m10)}static bezierOne(t,e,r){t>1?t=1:t<0&&(t=0);var n=e.clone(),a=r.clone();return n.multiplyScalar(1-t).add(a.multiplyScalar(t))}static bezierTwo(t,e,n,a){t>1?t=1:t<0&&(t=0);const c=1-t,i=t*t,l=e.clone(),s=new r,u=n.clone(),o=a.clone();return s.add(l.multiplyScalar(c*c)),s.add(u.multiplyScalar(2*c*t)),s.add(o.multiplyScalar(i)),s}static bezierThree(t,e,r,n,a){t>1?t=1:t<0&&(t=0);const c=1-t,i=c*c,l=i*c,s=t*t,u=s*t,o=e.clone(),d=e.clone(),m=r.clone(),y=n.clone(),z=a.clone();return d.add(o.multiplyScalar(l)),d.add(m.multiplyScalar(3*i*t)),d.add(y.multiplyScalar(3*c*s)),d.add(z.multiplyScalar(u)),d}static dot(t,e){const r=t,n=e;return r.x*n.x+r.y*n.y+r.z*n.z}static cross(t,e){const n=new r(1,0,0),a=new r(0,1,0),c=new r(0,0,1),i=new r(t.x,t.y,t.z),l=new r(e.x,e.y,e.z),s=n.multiplyScalar(i.y*l.z-l.y*i.z),u=a.multiplyScalar(l.x*i.z-i.x*l.z),o=c.multiplyScalar(i.x*l.y-l.x*i.y);return s.add(u).add(o)}static angle(t,e){const r=this.dot(t.clone().normalize(),e.clone().normalize());return Math.acos(r)/Math.PI*180*Math.sign(r)}static dirAngle(t,e){const r=c.cross(t,e);return c.angle(t,e)*Math.sign(c.dot(r.normalize(),c.cross(e.normalize(),t.normalize())))}}t("Vec3Util",c),e._RF.pop()}}}));

System.register("chunks:///_virtual/Xor.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"11948OXRWxFSb/uOlkSXeMT","Xor",void 0);t("default",class{static xor(t,e){try{if(!t||!e)return"";let r=0;for(let t=e.length-1;t>=0;--t)r+=e.charCodeAt(t);let c="";for(let e=t.length-1;e>=0;--e){const n=t.charCodeAt(e)^r;c+=String.fromCharCode(n)}return c}catch{return""}}}),e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});