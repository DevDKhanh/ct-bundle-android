System.register("chunks:///_virtual/AudioPath.ts",["cc","./KKGameUIConf.ts","./kk.ts","./MathHelper.ts"],(function(e){var i,n,u,c;return{setters:[function(e){i=e.cclegacy},function(e){n=e.KKBundleConf},function(e){u=e.default},function(e){c=e.default}],execute:function(){i._RF.push({},"1effavW9WJMJZ56/vEduk4X","AudioPath",void 0);e("AudioPath",{effect:{name:"effect",path:{piece:["piece-001","piece-002","piece-003","piece-004","piece-005"],chieu:["chieu","chieu_tuong"],chieubi:["chieu_bi","chieu_tuong_het_co"],anquan:["kill_1","kill_2","kill_3","kill_4","kill_5"],giaophong:["giao_phong"],start:["start"],win:["win"],lose:["lose"],draw:["draw_1","draw_2"]}},music:{name:"background",path:{background:["background-music"]}}}),e("randomSound",((e,i,t,a)=>{const o=c.randomArray(null==e?void 0:e.path[i]);t?u.soundMgr.playEffectAsync(e.name+"/"+o,n.Audios,a):u.soundMgr.playMusicAsync(e.name+"/"+o,n.Audios,a)}));i._RF.pop()}}}));

System.register("chunks:///_virtual/DialogPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PopupBase.ts"],(function(t){var e,n,i,l,r,o,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){i=t.cclegacy,l=t.Label,r=t.RichText,o=t.Node,a=t._decorator},function(t){s=t.PopupBase}],execute:function(){var c,u,b,p,h,f,C,g,v,y,D,d,L,m,w,z,P;i._RF.push({},"f1983hhIk9BX7f/uqhuvT4B","DialogPopup",void 0);const{ccclass:k,property:B}=a;t("DialogPopup",(c=k("DialogPopup"),u=B(l),b=B(r),p=B(l),h=B(o),f=B(l),C=B(o),g=B(o),c((D=e((y=class extends s{constructor(...t){super(...t),n(this,"title",D,this),n(this,"content",d,this),n(this,"btnLblOK",L,this),n(this,"btnClose",m,this),n(this,"btnLblClose",w,this),n(this,"btnConfirn",z,this),n(this,"closeCorner",P,this)}onLoad(){let t=this.recvData;this.title.string=t.title||"Thông báo",this.content.string=t.desc,this.btnLblOK.string=t.btnTxt||"Đồng ý",this.btnLblClose.string=t.btnTxtCls||"Đóng",this.btnClose.active=!t.hideClose,this.btnConfirn.active=!!t.btnCall,this.closeCorner.active=!t.hideCloseCorner,this.enableClickBlankToClose()}onBtnClick(t,e){var n;let i=this;switch(e){case"close":var l;if(i.ret=!1,null!=(n=i.recvData)&&n.closeCall)null==(l=i.recvData)||l.closeCall();break;case"ok":i.ret=!0,i.recvData.btnCall&&i.recvData.btnCall()}i.close()}}).prototype,"title",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(y.prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(y.prototype,"btnLblOK",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(y.prototype,"btnClose",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(y.prototype,"btnLblClose",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(y.prototype,"btnConfirn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(y.prototype,"closeCorner",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/KKCMDID.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"863b8gqFxVMEaQBKrxKP6qp","KKCMDID",void 0);e("CMDID",{CMD_HELLO:1e3});t._RF.pop()}}}));

System.register("chunks:///_virtual/KKCommonBundle",["./AudioPath.ts","./DialogPopup.ts","./KKCountDownCircleWidget.ts","./KKGameConst.ts","./KKGameData.ts","./KKLoadingWidget.ts","./KKLuckyWheelPopup.ts","./KKStatusPlayerWidget.ts","./KKTagRankWidget.ts","./KKToastWidget.ts","./KKUtils.ts","./KKHttpCenter.ts","./KKHttpRoute.ts","./SocketEvent.ts","./SocketIO.ts","./KKCMDID.ts","./KKSocketCenter.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/KKCountDownCircleWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(i){var t,e,n,r,s,c,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.initializerDefineProperty},function(i){n=i.cclegacy,r=i.Sprite,s=i._decorator,c=i.Color},function(i){l=i.UIBase}],execute:function(){var o,u,h,a,g;n._RF.push({},"69b9aRY93BNkZn38jZpHD6m","KKCountDownCircleWidget",void 0);const{ccclass:p,property:R}=s;i("KKCountDownCircleWidget",(o=p("KKCountDownCircleWidget"),u=R(r),o((g=t((a=class extends l{constructor(...i){super(...i),e(this,"circle",g,this),this.currTime=0,this.initTime=0,this.isRunning=!1}startFill(i,t=!0){this.node.active=t,t?this.isRunning||(this.currTime=i,this.initTime=i,this.circle.fillRange=1,this.isRunning=!0):this.isRunning=!1}update(i){this.isRunning&&this.currTime<=10?this.circle.color=c.RED:this.circle.color=c.GREEN,this.currTime>0&&this.isRunning?(this.currTime-=i,this.circle.fillRange=this.currTime/this.initTime):(this.isRunning=!1,this.circle.fillRange=0)}}).prototype,"circle",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=a))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/KKGameConst.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"50838FPX2VLNJYvOFbn9Yqs","KKGameConst",void 0);e("KKLocalKey",{MyGems:"KKMyGems"});t._RF.pop()}}}));

System.register("chunks:///_virtual/KKGameData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e1fb9ajIoRNzovPHnJf5PT3","KKGameData",void 0);t("default",new class{constructor(){this.gem=void 0}});e._RF.pop()}}}));

System.register("chunks:///_virtual/KKHttpCenter.ts",["cc","./kk.ts","./KKUtils.ts"],(function(t){var e,o,n;return{setters:[function(t){e=t.cclegacy},function(t){o=t.default},function(t){n=t.default}],execute:function(){e._RF.push({},"183e2smj5pCCoDMavSz54m7","KKHttpCenter",void 0);var i=function(t){return t[t.Nothing=0]="Nothing",t[t.Toast=1]="Toast",t[t.Popup=2]="Popup",t}(i||{});t("httpCenter",new class{constructor(){this.FailType=i}reqAsync(t,e){e||(e={});const s={body:e.body,baseUrl:e.baseUrl??o.config.service.httpServer,timeout:e.timeout??10,method:e.method??"GET",loading:e.loading??!0,failType:e.failType??i.Popup};return s.loading&&n.showLoading(!0),this._reqAsync(s.baseUrl+t,s)}_reqAsync(t,e){return new Promise(((s,a)=>{o.httpMgr.reqAsync(t,{body:e.body,timeout:1e3*e.timeout,method:e.method,token:o.localMgr.getItemWithDefault("token","",!0)}).then(s).catch((o=>{e.failType==i.Nothing?a(o):e.failType==i.Toast?(n.showToast(o),a(o)):e.failType==i.Popup&&n.showCommonPopup({title:"Đã có lỗi xảy ra",desc:o,btnTxtCls:"Thử lại",closeCall:()=>{this._reqAsync(t,e).then(s).catch(a)}})})).finally((()=>{console.log("请求结束",t,e.body),e.loading&&n.showLoading(!1)}))}))}});e._RF.pop()}}}));

System.register("chunks:///_virtual/KKHttpRoute.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"3d6d48plBpLdbPm2JN6Fvm6","KKHttpRoute",void 0);t("HttpRoute",{register:"/account/register",login:"/account/login",getUser:"/account/user",updateDisplayName:"/account/update-display-name",getFollowers:"/account-follow",getRanking:"/account-follow/ranking",follow:"/account-follow/follow",matches:"/account-follow/matches"});o._RF.pop()}}}));

System.register("chunks:///_virtual/KKLoadingWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(e){var t,i,o,r,a,n,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){o=e.cclegacy,r=e.Node,a=e._decorator,n=e.tween},function(e){s=e.UIBase}],execute:function(){var c,d,l,u,p;o._RF.push({},"4e1eePq4PpDAaAi5yGRjXOo","KKLoadingWidget",void 0);const{ccclass:g,property:h}=a;e("KKLoadingWidget",(c=g("KKLoadingWidget"),d=h(r),c((p=t((u=class extends s{constructor(...e){super(...e),i(this,"loadNd",p,this)}onLoad(){this.loadNd.parent.active=!1,this.scheduleOnce((()=>{this.loadNd.parent.active=!0,n(this.loadNd).by(1,{angle:-360}).repeatForever().start()}),1)}}).prototype,"loadNd",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=u))||l));o._RF.pop()}}}));

System.register("chunks:///_virtual/KKLuckyWheelPopup.ts",["cc","./PopupBase.ts"],(function(e){var c,o,s;return{setters:[function(e){c=e.cclegacy,o=e._decorator},function(e){s=e.PopupBase}],execute:function(){var t;c._RF.push({},"c5dd2WzfchA55dssPhWrWuu","KKLuckyWheelPopup",void 0);const{ccclass:u,property:n}=o;e("KKLuckyWheelPopup",u("KKLuckyWheelPopup")(t=class extends s{onLoad(){this.enableClickBlankToClose()}start(){}onBtnClick(e,c){}})||t);c._RF.pop()}}}));

System.register("chunks:///_virtual/KKSocketCenter.ts",["cc","./DebugHelper.ts","./kk.ts","./KKCMDID.ts"],(function(t){var e,c,n,s;return{setters:[function(t){e=t.cclegacy},function(t){c=t.default},function(t){n=t.default},function(t){s=t.CMDID}],execute:function(){e._RF.push({},"f6f017AMiVL1bwJmuP6E5L5","KKSocketCenter",void 0);t("socketCenter",new class{constructor(){this.tips={showConnecting:t=>{},showReconnecting:t=>{},showRequesting:t=>{}}}async connect(t){await n.socketMgr.connectAsync({url:t,getHeartbeat:()=>(c.log(">>> heartbeat"),""),parseNetData:t=>({cmd:s.CMD_HELLO,content:t}),tips:this.tips,manualReconnect:()=>{}})}clear(){n.socketMgr.close(!0)}on(t,e,c){n.socketMgr.on(t,e,c)}off(t,e,c){n.socketMgr.off(t,e,c)}req(t,e){let o="";switch(t){case s.CMD_HELLO:o=e}return c.log("---\x3e send ",t,o),n.socketMgr.reqAsync(t,JSON.stringify({cmd:t,data:o}))}});e._RF.pop()}}}));

System.register("chunks:///_virtual/KKStatusPlayerWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var e,s,a,i,r,n,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){a=t.cclegacy,i=t.Enum,r=t.Label,n=t._decorator,l=t.Color},function(t){u=t.UIBase}],execute:function(){var c,o,N,O,b,p,h;a._RF.push({},"124bbokaOhIFZaenAfR26g1","KKStatusPlayerWidget",void 0);const{ccclass:g,property:f}=n;var m=function(t){return t[t.NONE=0]="NONE",t[t.ONLINE=1]="ONLINE",t[t.OFFLINE=2]="OFFLINE",t[t.CO_UP=3]="CO_UP",t[t.CO_TUONG=4]="CO_TUONG",t}(m||{});i(m);t("KKStatusPlayerWidget",(c=g("KKStatusPlayerWidget"),o=f(r),N=f({type:m}),c((p=e((b=class extends u{constructor(...t){super(...t),s(this,"lbName",p,this),s(this,"status",h,this)}updateStatus(t){switch(this.status=t,this.status){case m.ONLINE:this.lbName.color=new l("#00A500"),this.lbName.string="Online";break;case m.OFFLINE:this.lbName.color=new l("#797979"),this.lbName.string="Offline";break;case m.CO_UP:case m.CO_TUONG:this.lbName.color=new l("#FF6600"),this.lbName.string=this.status===m.CO_UP?"Đang đấu cờ úp":"Đang đấu cờ tướng"}}}).prototype,"lbName",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(b.prototype,"status",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.NONE}}),O=b))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/KKTagRankWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./CocosHelper.ts"],(function(t){var e,n,r,i,s,o,a,p,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.Enum,s=t.SpriteFrame,o=t.Sprite,a=t._decorator},function(t){p=t.UIBase},function(t){c=t.getRankByElo}],execute:function(){var g,K,u,l,h,k,v;r._RF.push({},"cef1ec2m1pNhIvIFZYZkW4P","KKTagRankWidget",void 0);const{ccclass:f,property:S}=a;let T=t("DANH_HIEU",function(t){return t[t["Nhập môn 0"]=0]="Nhập môn 0",t[t["Tập sự 0"]=1]="Tập sự 0",t[t["Tập sự 1"]=2]="Tập sự 1",t[t["Tập sự 2"]=3]="Tập sự 2",t[t["Tập sự 3"]=4]="Tập sự 3",t[t["Phong trào 0"]=5]="Phong trào 0",t[t["Phong trào 1"]=6]="Phong trào 1",t[t["Phong trào 2"]=7]="Phong trào 2",t[t["Phong trào 3"]=8]="Phong trào 3",t[t["Kỳ thủ"]=9]="Kỳ thủ",t[t["Kỳ thủ 1"]=10]="Kỳ thủ 1",t[t["Kỳ thủ 2"]=11]="Kỳ thủ 2",t[t["Kỳ thủ 3"]=12]="Kỳ thủ 3",t[t["Kỳ sỹ 0"]=13]="Kỳ sỹ 0",t[t["Kỳ sỹ 1"]=14]="Kỳ sỹ 1",t[t["Kỳ sỹ 2"]=15]="Kỳ sỹ 2",t[t["Kỳ sỹ 3"]=16]="Kỳ sỹ 3",t[t["Kỳ vương 0"]=17]="Kỳ vương 0",t[t["Kỳ vương 1"]=18]="Kỳ vương 1",t[t["Kỳ vương 2"]=19]="Kỳ vương 2",t[t["Kỳ vương 3"]=20]="Kỳ vương 3",t}({}));i(T);t("KKTagRankWidget",(g=f("KKTagRankWidget"),K=S([s]),u=S(o),g((k=e((h=class extends p{constructor(...t){super(...t),n(this,"rankSprites",k,this),n(this,"rankSprite",v,this)}getRankSprite(t){const e=c(t),n=`${e.name} ${(null==e?void 0:e.star)??0}`,r=T[n];return this.rankSprites[r]||null}updateRankSprite(t){const e=this.getRankSprite(t);console.log({spriteFrame:e}),this.rankSprite&&e&&(this.rankSprite.spriteFrame=e)}}).prototype,"rankSprites",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=e(h.prototype,"rankSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=h))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/KKToastWidget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts"],(function(t){var e,i,r,o,n,a,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,o=t.UIOpacity,n=t.Label,a=t._decorator,s=t.tween},function(t){c=t.UIBase}],execute:function(){var l,u,p,d,y,b,g;r._RF.push({},"78a07XHP3JI/6reI5HoSMKa","KKToastWidget",void 0);const{ccclass:f,property:h}=a;t("KKToastWidget",(l=f("KKToastWidget"),u=h(o),p=h(n),l((b=e((y=class extends c{constructor(...t){super(...t),i(this,"ndOpc",b,this),i(this,"lbl",g,this)}onLoad(){this.lbl.string=this.recvData.msg,s(this.ndOpc).to(.5,{opacity:255}).delay(2).to(.5,{opacity:0}).call((()=>{this.node.destroy()})).start()}}).prototype,"ndOpc",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(y.prototype,"lbl",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/KKUtils.ts",["cc","./KKGameUIConf.ts","./kk.ts"],(function(o){var t,n,e,i,s;return{setters:[function(o){t=o.v3,n=o.cclegacy},function(o){e=o.KKCommonPopupConf,i=o.KKCommonWidgetConf},function(o){s=o.default}],execute:function(){n._RF.push({},"5eecdz1G6BN8ryn48pHUkhk","KKUtils",void 0);class a{static showCommonPopup(o){return s.uiMgr.showPopupAsync(e.DialogPopup,o)}static showToast(o){s.uiMgr.createWidgetAsync(i.Toast,{msg:o}).then((o=>{s.godNode.children.forEach(((o,n)=>{o.name==i.Toast.name&&(o.position=t(o.position.x,o.position.y+110,o.position.z))})),o.parent=s.godNode}))}static showLoading(o){this._loadingCounter++;const t=this._loadingCounter;var n;o?s.uiMgr.createWidgetAsync(i.Loading).then((o=>{this._loadingCounter===t?o.parent=s.godNode:o.destroy()})):null==(n=s.godNode.getChildByName(i.Loading.name))||n.destroy()}}o("default",a),a._loadingCounter=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/SocketEvent.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"d3f499F76NAQZgGENjbe80g","SocketEvent",void 0);e("SocketEvent",{startGame:"startGame",actions:"actions",join:"join",leave:"leave",dataRoom:"dataRoom",banqiData:"banqiData",countDown:"countDown",makeMove:"makeMove",peace:"peace",peaceAnswer:"peaceAnswer",messageCoTuong:"messageCoTuong"}),e("actionID",{joinRoom:"joinRoom",leaveRoom:"leaveRoom",readyRoom:"readyRoom",makeMove:"makeMove",surrender:"surrender",peace:"peace",peaceAnswer:"peaceAnswer"}),e("typeSocket",{coTuong:"co-tuong",coUp:"co-up"});o._RF.pop()}}}));

System.register("chunks:///_virtual/SocketIO.ts",["cc","./GameData.ts","./socket.io.mjs_cjs=&original=2.js","./kk.ts","./socket.io2.js"],(function(t){var o,e,c,n;return{setters:[function(t){o=t.cclegacy},function(t){e=t.default},null,function(t){c=t.default},function(t){n=t.default}],execute:function(){o._RF.push({},"95d83Oc4r1AG7KqOHoHxPtU","SocketIO",void 0);t("default",new class{constructor(){this._socket=null}get socket(){return this._socket}connect(t){return new Promise(((o,s)=>{var i;const r=t??(null==(i=c.config)||null==(i=i.service)?void 0:i.socketURL);if(this.disconnect(),this._socket=n(r,{transports:["websocket"],auth:null!=e&&e.info.token?{token:null==e?void 0:e.info.token}:void 0,reconnection:!0}),!this._socket)return s(new Error("Không khởi tạo được socket."));this._socket.on("connect",(()=>{var t;console.log("Socket connected với id:",null==(t=this._socket)?void 0:t.id),o()})),this._socket.on("connect_error",(t=>{console.error("Lỗi kết nối socket:",t),s(t)})),this._socket.on("disconnect",(t=>{console.warn("Socket đã disconnect:",t)}))}))}disconnect(){this._socket&&this._socket.connected&&this._socket.disconnect(),this._socket=null}reqAsync(t,o){return new Promise(((e,c)=>{if(!this._socket||!this._socket.connected)return c(new Error("Socket chưa kết nối."));this._socket.emit(t,o,(t=>{e(t)}))}))}on(t,o){this._socket&&this._socket.on(t,o)}off(t,o){this._socket&&(o?this._socket.off(t,o):this._socket.off(t))}});o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/KKCommonBundle', 'chunks:///_virtual/KKCommonBundle'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});